import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{B as Ge,M as xt}from"./button-0OwgFvfr.js";import{e as ve,g as Ir,r as d,R as Zt}from"./iframe-C5ToFRAX.js";import{D as Or,c as de}from"./dialog-DdMEgoac.js";import{r as Ar}from"./index-CtTXlRe_.js";import{X as Fr}from"./x-CLOTCMfi.js";import{c as pe}from"./createLucideIcon-CjLRb8pY.js";import{U as Pr,C as Hr}from"./user-Cu-tnpQp.js";import{F as fe}from"./formControl-BELgjv8S.js";import{E as Lr}from"./errorMessage-DXZqHEYf.js";import{u as zr,i as Oe,c as Yr,o as qr,f as Wr,s as Br}from"./floating-ui.react-dom-CkbDpIad.js";import{d as Ae}from"./dayjs-8x9eWugw.js";import{T as Vr}from"./index-py82SV0g.js";import"./featherIcon-B3IzmdwS.js";import"./preload-helper-PPVm8Dsz.js";import"./index--a4mn4Q9.js";import"./index-C3NrmEP4.js";import"./Combination-BKqPm0IU.js";import"./index-CmBHVr2C.js";import"./textarea-pumzxF_g.js";import"./debounce-C-hnF4Z3.js";import"./textInput-B3PbVsHu.js";import"./checkbox-BTBzRNSe.js";import"./autoComplete-BYyGz6P4.js";import"./combobox-Dtl63kAB.js";import"./label-CSL3Mk2A.js";import"./use-resolve-button-type-Dg7Ot-K2.js";import"./focus-management-BcN-g8BK.js";import"./popover-CbeU_aO8.js";import"./select-BFPHDKBH.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ur=pe("calendar",Gr);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zr=pe("chevron-left",Jr);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=pe("chevron-right",Kr);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],en=pe("chevron-up",Qr);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rn=pe("clock",tn);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sn=pe("map-pin",nn);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],an=pe("pen",on);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ln=pe("trash-2",cn),le=ve.createContext(null);var ze={exports:{}},un=ze.exports,jt;function dn(){return jt||(jt=1,(function(e,t){(function(r,n){e.exports=n()})(un,(function(){var r=1e3,n=6e4,s=36e5,o="millisecond",i="second",u="minute",m="hour",p="day",g="week",y="month",k="quarter",c="year",f="date",l="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var x=["th","st","nd","rd"],h=E%100;return"["+E+(x[(h-20)%10]||x[h]||x[0])+"]"}},D=function(E,x,h){var C=String(E);return!C||C.length>=x?E:""+Array(x+1-C.length).join(h)+E},$={s:D,z:function(E){var x=-E.utcOffset(),h=Math.abs(x),C=Math.floor(h/60),w=h%60;return(x<=0?"+":"-")+D(C,2,"0")+":"+D(w,2,"0")},m:function E(x,h){if(x.date()<h.date())return-E(h,x);var C=12*(h.year()-x.year())+(h.month()-x.month()),w=x.clone().add(C,y),N=h-w<0,R=x.clone().add(C+(N?-1:1),y);return+(-(C+(h-w)/(N?w-R:R-w))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:y,y:c,w:g,d:p,D:f,h:m,m:u,s:i,ms:o,Q:k}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},A="en",_={};_[A]=M;var j="$isDayjsObject",q=function(E){return E instanceof I||!(!E||!E[j])},z=function E(x,h,C){var w;if(!x)return A;if(typeof x=="string"){var N=x.toLowerCase();_[N]&&(w=N),h&&(_[N]=h,w=N);var R=x.split("-");if(!w&&R.length>1)return E(R[0])}else{var F=x.name;_[F]=x,w=F}return!C&&w&&(A=w),w||!C&&A},O=function(E,x){if(q(E))return E.clone();var h=typeof x=="object"?x:{};return h.date=E,h.args=arguments,new I(h)},b=$;b.l=z,b.i=q,b.w=function(E,x){return O(E,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var I=(function(){function E(h){this.$L=z(h.locale,null,!0),this.parse(h),this.$x=this.$x||h.x||{},this[j]=!0}var x=E.prototype;return x.parse=function(h){this.$d=(function(C){var w=C.date,N=C.utc;if(w===null)return new Date(NaN);if(b.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var R=w.match(v);if(R){var F=R[2]-1||0,P=(R[7]||"0").substring(0,3);return N?new Date(Date.UTC(R[1],F,R[3]||1,R[4]||0,R[5]||0,R[6]||0,P)):new Date(R[1],F,R[3]||1,R[4]||0,R[5]||0,R[6]||0,P)}}return new Date(w)})(h),this.init()},x.init=function(){var h=this.$d;this.$y=h.getFullYear(),this.$M=h.getMonth(),this.$D=h.getDate(),this.$W=h.getDay(),this.$H=h.getHours(),this.$m=h.getMinutes(),this.$s=h.getSeconds(),this.$ms=h.getMilliseconds()},x.$utils=function(){return b},x.isValid=function(){return this.$d.toString()!==l},x.isSame=function(h,C){var w=O(h);return this.startOf(C)<=w&&w<=this.endOf(C)},x.isAfter=function(h,C){return O(h)<this.startOf(C)},x.isBefore=function(h,C){return this.endOf(C)<O(h)},x.$g=function(h,C,w){return b.u(h)?this[C]:this.set(w,h)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(h,C){var w=this,N=!!b.u(C)||C,R=b.p(h),F=function(Z,G){var Q=b.w(w.$u?Date.UTC(w.$y,G,Z):new Date(w.$y,G,Z),w);return N?Q:Q.endOf(p)},P=function(Z,G){return b.w(w.toDate()[Z].apply(w.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(G)),w)},W=this.$W,B=this.$M,J=this.$D,te="set"+(this.$u?"UTC":"");switch(R){case c:return N?F(1,0):F(31,11);case y:return N?F(1,B):F(0,B+1);case g:var re=this.$locale().weekStart||0,ae=(W<re?W+7:W)-re;return F(N?J-ae:J+(6-ae),B);case p:case f:return P(te+"Hours",0);case m:return P(te+"Minutes",1);case u:return P(te+"Seconds",2);case i:return P(te+"Milliseconds",3);default:return this.clone()}},x.endOf=function(h){return this.startOf(h,!1)},x.$set=function(h,C){var w,N=b.p(h),R="set"+(this.$u?"UTC":""),F=(w={},w[p]=R+"Date",w[f]=R+"Date",w[y]=R+"Month",w[c]=R+"FullYear",w[m]=R+"Hours",w[u]=R+"Minutes",w[i]=R+"Seconds",w[o]=R+"Milliseconds",w)[N],P=N===p?this.$D+(C-this.$W):C;if(N===y||N===c){var W=this.clone().set(f,1);W.$d[F](P),W.init(),this.$d=W.set(f,Math.min(this.$D,W.daysInMonth())).$d}else F&&this.$d[F](P);return this.init(),this},x.set=function(h,C){return this.clone().$set(h,C)},x.get=function(h){return this[b.p(h)]()},x.add=function(h,C){var w,N=this;h=Number(h);var R=b.p(C),F=function(B){var J=O(N);return b.w(J.date(J.date()+Math.round(B*h)),N)};if(R===y)return this.set(y,this.$M+h);if(R===c)return this.set(c,this.$y+h);if(R===p)return F(1);if(R===g)return F(7);var P=(w={},w[u]=n,w[m]=s,w[i]=r,w)[R]||1,W=this.$d.getTime()+h*P;return b.w(W,this)},x.subtract=function(h,C){return this.add(-1*h,C)},x.format=function(h){var C=this,w=this.$locale();if(!this.isValid())return w.invalidDate||l;var N=h||"YYYY-MM-DDTHH:mm:ssZ",R=b.z(this),F=this.$H,P=this.$m,W=this.$M,B=w.weekdays,J=w.months,te=w.meridiem,re=function(G,Q,K,Ie){return G&&(G[Q]||G(C,N))||K[Q].slice(0,Ie)},ae=function(G){return b.s(F%12||12,G,"0")},Z=te||function(G,Q,K){var Ie=G<12?"AM":"PM";return K?Ie.toLowerCase():Ie};return N.replace(S,(function(G,Q){return Q||(function(K){switch(K){case"YY":return String(C.$y).slice(-2);case"YYYY":return b.s(C.$y,4,"0");case"M":return W+1;case"MM":return b.s(W+1,2,"0");case"MMM":return re(w.monthsShort,W,J,3);case"MMMM":return re(J,W);case"D":return C.$D;case"DD":return b.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return re(w.weekdaysMin,C.$W,B,2);case"ddd":return re(w.weekdaysShort,C.$W,B,3);case"dddd":return B[C.$W];case"H":return String(F);case"HH":return b.s(F,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return Z(F,P,!0);case"A":return Z(F,P,!1);case"m":return String(P);case"mm":return b.s(P,2,"0");case"s":return String(C.$s);case"ss":return b.s(C.$s,2,"0");case"SSS":return b.s(C.$ms,3,"0");case"Z":return R}return null})(G)||R.replace(":","")}))},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(h,C,w){var N,R=this,F=b.p(C),P=O(h),W=(P.utcOffset()-this.utcOffset())*n,B=this-P,J=function(){return b.m(R,P)};switch(F){case c:N=J()/12;break;case y:N=J();break;case k:N=J()/3;break;case g:N=(B-W)/6048e5;break;case p:N=(B-W)/864e5;break;case m:N=B/s;break;case u:N=B/n;break;case i:N=B/r;break;default:N=B}return w?N:b.a(N)},x.daysInMonth=function(){return this.endOf(y).$D},x.$locale=function(){return _[this.$L]},x.locale=function(h,C){if(!h)return this.$L;var w=this.clone(),N=z(h,C,!0);return N&&(w.$L=N),w},x.clone=function(){return b.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},E})(),Y=I.prototype;return O.prototype=Y,[["$ms",o],["$s",i],["$m",u],["$H",m],["$W",p],["$M",y],["$y",c],["$D",f]].forEach((function(E){Y[E[1]]=function(x){return this.$g(x,E[0],E[1])}})),O.extend=function(E,x){return E.$i||(E(x,I,O),E.$i=!0),O},O.locale=z,O.isDayjs=q,O.unix=function(E){return O(1e3*E)},O.en=_[A],O.Ls=_,O.p={},O}))})(ze)),ze.exports}var Kt=dn();const fn=Ir(Kt);function mn(e,t){const r=[31,28,31,30,31,30,31,31,30,31,30,31],n=new Date(t,e,1),s=n.getDay(),o=y(n,s),i=g(n),u=[...o,...i],m=k(u);return[...u,...m];function g(l){const v=l.getMonth();v===1&&f(l)&&(r[v]=29);const S=r[v];return c(new Date(l.getFullYear(),l.getMonth(),1),0,S)}function y(l,v){const S=[];for(let M=0;M<v;M++)S.push(new Date(l.getFullYear(),l.getMonth(),0-M));return S.reverse()}function k(l){const v=l.length>35?42:35,S=l.length,M=l[S-1],D=v-S;return c(M,1,D+1)}function c(l,v,S){const M=[];for(let D=v;D<S;D++)M.push(new Date(l.getFullYear(),l.getMonth(),l.getDate()+D));return M}function f(l){const v=l.getFullYear();return v%400===0||v%100!==0&&v%4===0}}function Nt(e,t){if(typeof t!="function")throw new Error(`${t} should be a function`);return e.reduce((r,n)=>{const s=t(n);return r[s]||(r[s]=[]),r[s].push(n),r},{})}function se(e){const[t,r]=e.split(":");return parseInt(t,10)*60+parseInt(r,10)}function ot(e){let t=Math.floor(e/60),r=e%60;return t<10&&(t=`0${t}`),r<10&&(r=`0${r}`),`${t}:${r}:00`}function ne(e){typeof e=="string"&&(e=new Date(e)),e=Kt.isDayjs(e)?fn(e).toDate():e;let t=e.getDate(),r=e.getMonth()+1;const n=e.getFullYear();return t<10&&(t="0"+t),r<10&&(r="0"+r),`${n}-${r}-${t}`}function pn(e,t=!0,r=!0,n="short"){const s={day:"numeric"};return r&&(s.month="short"),t&&(s.weekday=n),e.toLocaleDateString("en-US",s)}function Xt(e,t=!1){return t?gn[e.getDay()]+", "+e.getDate():er[e.getDay()]+" "+e.getDate()}function Qt(e,t){const r=se(e);return se(t)-r}function $t(e){return e.split(":").slice(0,2).join(":")+":00"}function hn(e){e=e.sort((r,n)=>r.startTime-n.startTime);const t=[];for(const r of e){const n=t.find(s=>s[s.length-1].endTime<=r.startTime);n?n.push(r):t.push([r])}return t.map((r,n)=>r.map((s,o)=>({...s,hallNumber:n,idx:o}))).flat()}const er=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],gn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],tr=["12 am","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","12 pm","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"],rr=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],Ue={blue:{background_color:"bg-surface-blue-2",border_color:"border-surface-blue-3"},green:{background_color:"bg-surface-green-2",border_color:"border-surface-green-3"},red:{background_color:"bg-surface-red-3",border_color:"border-surface-red-4"},orange:{background_color:"bg-surface-orange-1",border_color:"border-surface-orange-2"},yellow:{background_color:"bg-surface-yellow-1",border_color:"border-surface-yellow-2"},teal:{background_color:"bg-surface-teal-1",border_color:"border-surface-teal-2"},violet:{background_color:"bg-surface-violet-1",border_color:"border-surface-violet-2"},cyan:{background_color:"bg-surface-cyan-1",border_color:"border-surface-cyan-2"},purple:{background_color:"bg-surface-purple-1",border_color:"border-surface-purple-2"},pink:{background_color:"bg-surface-pink-1",border_color:"border-surface-pink-2"},amber:{background_color:"bg-surface-amber-1",border_color:"border-surface-amber-3"}};function yn(e,t,r){return e=Rt(e,r),t=Rt(t,r),`${e} - ${t}`}function Rt(e,t){if(t==="12h"){const[r,n]=e.split(":");let s=parseInt(r,10);const o=s>=12?"pm":"am";return s=s%12,s=s||12,n==="00"?`${s} ${o}`:`${s}:${n} ${o}`}return e}function vn(e){const t=e.filter(n=>n.isFullDay),r=e.filter(n=>!n.isFullDay).sort((n,s)=>n.fromTime!==s.fromTime?se(n.fromTime)>se(s.fromTime)?1:-1:se(n.toTime)>se(s.toTime)?1:-1);return[...t,...r]}const nr=({calendarEvent:e,date:t,isEditMode:r=!1,onClose:n,onEdit:s,onDelete:o})=>a.jsxs("div",{className:"w-80 rounded bg-surface-white p-4 text-ink-gray-8 shadow-lg",children:[a.jsxs("div",{className:"flex flex-row-reverse gap-3 text-ink-gray-5",children:[a.jsx("button",{onClick:n,className:"hover:text-ink-gray-8",children:a.jsx(Fr,{size:16})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:s,className:"hover:text-ink-gray-8",children:a.jsx(an,{size:16})}),a.jsx("button",{onClick:o,className:"hover:text-ink-gray-8",children:a.jsx(ln,{size:16})})]})]}),a.jsxs("div",{className:"mt-2 flex flex-col gap-5",children:[a.jsx("div",{className:"flex justify-between text-xl font-semibold",children:a.jsx("span",{children:e.title||"New Event"})}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ur,{size:16,className:"text-ink-gray-5"}),a.jsx("span",{className:"text-sm",children:pn(t)})]}),e.participant&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pr,{size:16,className:"text-ink-gray-5"}),a.jsx("span",{className:"text-sm",children:e.participant})]}),e.from_time&&e.to_time&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rn,{size:16,className:"text-ink-gray-5"}),a.jsxs("span",{className:"text-sm",children:[e.from_time," - ",e.to_time]})]}),e.venue&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sn,{size:16,className:"text-ink-gray-5"}),a.jsx("span",{className:"text-sm",children:e.venue})]})]})]})]});nr.__docgenInfo={description:"",methods:[],displayName:"EventModalContent",props:{calendarEvent:{required:!0,tsType:{name:"CalendarEvent"},description:""},date:{required:!0,tsType:{name:"Date"},description:""},isEditMode:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEdit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const bt=({isOpen:e,onClose:t,event:r})=>{const[n,s]=d.useState({}),[o,i]=d.useState(""),{updateEventState:u,createNewEvent:m}=d.useContext(le);d.useEffect(()=>{s({title:r?.title||"",date:r?.date||new Date,participant:r?.participant||"",from_time:r?.from_time||"",to_time:r?.to_time||"",venue:r?.venue||"",color:r?.color||"green",isFullDay:r?.isFullDay||!1,id:r?.id}),i("")},[e,r]);const p=d.useCallback((c,f)=>{s(l=>({...l,[c]:f}))},[]),g=d.useCallback(()=>{if(!n.date)return i("Date is required"),!1;if(!n.isFullDay){if(!n.from_time)return i("Start Time is required"),!1;if(!n.to_time)return i("End Time is required"),!1;if(Qt(n.from_time,n.to_time)<=0)return i("Start time must be before End Time"),!1}return i(""),!0},[n.date,n.from_time,n.isFullDay,n.to_time]),y=d.useCallback(()=>{if(!g())return;const c={...n};if(c.isFullDay?(c.from_time="",c.to_time=""):(c.from_time=$t(c.from_time||"00:00"),c.to_time=$t(c.to_time||"00:00")),r.id)u(c);else{const f="#"+Math.random().toString(36).substring(3,9);c.id=f,m(c)}t()},[m,r.id,n,t,u,g]),k=Object.keys(Ue).map(c=>({label:c,value:c}));return a.jsx(Or,{open:e,onOpenChange:t,options:{title:r.id?"Edit Event":"New Event"},actions:a.jsx("div",{className:"flex w-full flex-row-reverse",children:a.jsx(Ge,{variant:"solid",onClick:y,children:"Submit"})}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(fe,{type:"text",value:n.title,onChange:c=>p("title",c.target.value),label:"Title",placeholder:"e.g., Meet with John Doe"}),a.jsx(fe,{type:"date",value:n.date,onChange:c=>p("date",c),label:"Date",required:!0,onBlur:g}),a.jsx(fe,{type:"text",value:n.participant,onChange:c=>p("participant",c.target.value),label:"Person",placeholder:"e.g., John Doe"}),!n.isFullDay&&a.jsxs(a.Fragment,{children:[a.jsx(fe,{type:"time",value:n.from_time,onChange:c=>p("from_time",c.target.value),label:"Start Time",onBlur:g}),a.jsx(fe,{type:"time",value:n.to_time,onChange:c=>p("to_time",c.target.value),label:"End Time",onBlur:g})]}),a.jsx(fe,{type:"text",value:n.venue,onChange:c=>p("venue",c.target.value),label:"Venue",placeholder:"e.g., Frappe, Neelkanth Business Park"}),a.jsx(fe,{type:"select",value:n.color,onChange:c=>p("color",c.target.value),options:k,label:"Color",className:"form-control-prefix",prefix:()=>a.jsx("div",{className:de("h-5 w-5 rounded-full shadow-md",Ue[n.color||"green"]?.background_color||"bg-green-100")})}),a.jsx(fe,{type:"checkbox",label:"Full Day Event?",value:n.isFullDay,onChange:c=>p("isFullDay",c)}),o&&a.jsx(Lr,{message:o})]})})};bt.__docgenInfo={description:"",methods:[],displayName:"EventFormModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},event:{required:!0,tsType:{name:"Partial",elements:[{name:"CalendarEvent"}],raw:"Partial<CalendarEvent>"},description:""}}};var xn=typeof document<"u",bn=function(){},dt=xn?d.useLayoutEffect:bn;const wn={...Zt},Cn=wn.useInsertionEffect,Dn=Cn||(e=>e());function Sn(e){const t=d.useRef(()=>{});return Dn(()=>{t.current=e}),d.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}const En={...Zt};let Tt=!1,Mn=0;const It=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Mn++;function kn(){const[e,t]=d.useState(()=>Tt?It():void 0);return dt(()=>{e==null&&t(It())},[]),d.useEffect(()=>{Tt=!0},[]),e}const _n=En.useId,jn=_n||kn;function Nn(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const $n=d.createContext(null),Rn=d.createContext(null),Tn=()=>{var e;return((e=d.useContext($n))==null?void 0:e.id)||null},In=()=>d.useContext(Rn);function On(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=jn(),o=d.useRef({}),[i]=d.useState(()=>Nn()),u=Tn()!=null,[m,p]=d.useState(n.reference),g=Sn((c,f,l)=>{o.current.openEvent=c?f:void 0,i.emit("openchange",{open:c,event:f,reason:l,nested:u}),r?.(c,f,l)}),y=d.useMemo(()=>({setPositionReference:p}),[]),k=d.useMemo(()=>({reference:m||n.reference||null,floating:n.floating||null,domReference:n.reference}),[m,n.reference,n.floating]);return d.useMemo(()=>({dataRef:o,open:t,onOpenChange:g,elements:k,events:i,floatingId:s,refs:y}),[t,g,k,i,s,y])}function An(e){e===void 0&&(e={});const{nodeId:t}=e,r=On({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[o,i]=d.useState(null),[u,m]=d.useState(null),g=s?.domReference||o,y=d.useRef(null),k=In();dt(()=>{g&&(y.current=g)},[g]);const c=zr({...e,elements:{...s,...u&&{reference:u}}}),f=d.useCallback(D=>{const $=Oe(D)?{getBoundingClientRect:()=>D.getBoundingClientRect(),getClientRects:()=>D.getClientRects(),contextElement:D}:D;m($),c.refs.setReference($)},[c.refs]),l=d.useCallback(D=>{(Oe(D)||D===null)&&(y.current=D,i(D)),(Oe(c.refs.reference.current)||c.refs.reference.current===null||D!==null&&!Oe(D))&&c.refs.setReference(D)},[c.refs]),v=d.useMemo(()=>({...c.refs,setReference:l,setPositionReference:f,domReference:y}),[c.refs,l,f]),S=d.useMemo(()=>({...c.elements,domReference:g}),[c.elements,g]),M=d.useMemo(()=>({...c,...n,refs:v,elements:S,nodeId:t}),[c,v,S,t,n]);return dt(()=>{n.dataRef.current.floatingContext=M;const D=k?.nodesRef.current.find($=>$.id===t);D&&(D.context=M)}),d.useMemo(()=>({...c,context:M,refs:v,elements:S}),[c,v,S,M])}const Fn=(e,t)=>{switch(t.type){case"MOVE":return t.payload?{xAxis:t.payload.x,yAxis:t.payload.y}:e;case"RESET":return{xAxis:0,yAxis:0};default:return e}},Pn=(e,t)=>{const[r,n]=d.useState(e),[s,o]=d.useState(!1),[i,u]=d.useState(!1),[m,p]=d.useState(!1),[g,y]=d.useState(!1),[k,c]=d.useReducer(Fn,{xAxis:0,yAxis:0}),f=d.useRef(!1),l=d.useRef(null);d.useEffect(()=>{n(e)},[e]);const{refs:v,floatingStyles:S}=An({open:s,onOpenChange:o,placement:t.activeView==="Day"?"top":"right",middleware:[qr(10),Wr(),Br()],whileElementsMounted:Yr,elements:{reference:l.current}});d.useEffect(()=>{if(!s)return;const _=j=>{j.target&&v.floating.current&&!v.floating.current.contains(j.target)&&l.current&&!l.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[s,v.floating]);const M=d.useCallback(_=>{if(f.current){f.current=!1;return}_.detail===1?t?.onClick?t.onClick({event:_,calendarEvent:e}):o(j=>!j):_.detail===2&&(t?.onDblClick?t.onDblClick({event:_,calendarEvent:e}):t.isEditMode&&(o(!1),u(!0)))},[t,e]),D=d.useCallback(()=>{t?.deleteEvent&&t.deleteEvent(e.id),o(!1)},[t,e.id]),$=d.useCallback(_=>{if(!l.current)return;f.current=!0,p(!0);const j=_.clientY,q=l.current.offsetHeight;let z=r.to_time;const O=I=>{if(!l.current||!e.from_time)return;const Y=t.hourHeight/60,E=Y*15,x=I.clientY-j,h=Math.max(E,q+x),C=Math.round(h/E)*E;l.current.style.height=`${C}px`;const w=se(e.from_time)+C/Y;z=ot(Math.min(1440,w)),n(N=>({...N,to_time:z}))},b=()=>{p(!1),t?.updateEventState&&t.updateEventState({...e,to_time:z}),window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",O),window.addEventListener("mouseup",b,{once:!0})},[e,t,r.to_time]),A=d.useCallback(_=>{_.preventDefault(),f.current=!0;const j=_.clientY;let q={...r};const z=b=>{if(!e.from_time||!e.to_time)return;y(!0),o(!1);const I=t.hourHeight/60,Y=I*15,E=b.clientY-j,x=Math.round(E/Y)*Y;c({type:"MOVE",payload:{x:0,y:x}});const h=Math.round(x/I),C=se(e.from_time)+h,w=se(e.to_time)+h;q={...q,from_time:ot(C),to_time:ot(w)},n(q)},O=()=>{y(!1),t?.updateEventState&&t?.updateEventState(q),c({type:"RESET"}),window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",O)};window.addEventListener("mousemove",z),window.addEventListener("mouseup",O,{once:!0})},[r,e.from_time,e.to_time,t]);return{updatedEvent:r,isPopoverOpen:s,isEditModalOpen:i,isResizing:m,isRepositioning:g,repositionState:k,eventRef:l,floatingRefs:v,floatingStyles:S,setEditModalOpen:u,setPopoverOpen:o,handleEventClick:M,handleEventDelete:D,handleResizeMouseDown:$,handleRepositionMouseDown:A}},xe=({event:e,date:t,extraClassName:r="",onDragStart:n=(s,o)=>{}})=>{const{activeView:s,config:o,deleteEvent:i,updatEventState:u,createNewEvent:m}=d.useContext(le),{updatedEvent:p,isPopoverOpen:g,isEditModalOpen:y,isResizing:k,isRepositioning:c,repositionState:f,eventRef:l,floatingRefs:v,floatingStyles:S,setEditModalOpen:M,handleEventClick:D,handleEventDelete:$,handleResizeMouseDown:A,setPopoverOpen:_,handleRepositionMouseDown:j}=Pn(e,{...o,activeView:s,deleteEvent:i,updatEventState:u,createNewEvent:m}),q=d.useMemo(()=>{const O={transform:`translate(${f.xAxis}px, ${f.yAxis}px)`,zIndex:c?100:(e.idx||0)+1};if(e.isFullDay||s==="Month")return O;if(!p.from_time||!p.to_time)return;const b=o.hourHeight/60,I=Qt(p.from_time,p.to_time),Y=Math.max(32.5,I*b);let E=se(p.from_time)*b;s==="Day"&&(E+=o.redundantCellHeight);const x=k||c?"100%":`${80-(e.hallNumber||0)*20}%`,h=k||c?"0":`${(e.hallNumber||0)*20}%`;return{...O,height:`${Y}px`,top:`${E}px`,width:x,left:h}},[e,p,s,k,c,f,o]),z=a.jsxs("div",{className:de("relative flex h-full select-none items-start gap-2 overflow-hidden px-2",e.from_time&&["border-l-2",Ue[e?.color??"blue"]?.border_color||"border-green-600"]),children:[o.showIcon&&o.eventIcons?.[e.type]&&ve.createElement(o.eventIcons[e.type],{className:"h-4 w-4 text-black"}),a.jsxs("div",{className:"flex w-fit flex-col overflow-hidden whitespace-nowrap text-gray-800 text-start",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:e.title||"New Event"}),!e.isFullDay&&a.jsx("p",{className:"text-ellipsis text-xs font-normal",children:p.from_time&&p.to_time&&yn(p.from_time,p.to_time,o.timeFormat)})]})]});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{ref:l,draggable:"true",className:de("h-min-[18px] rounded-lg p-2 transition-all duration-75 cursor-pointer",r,Ue[e?.color??"blue"]?.background_color||"bg-green-100",s!=="Month"&&"shadow-lg absolute",g&&"!z-20 drop-shadow-xl"),style:q,onClick:D,onDragStart:O=>n(O,e.id),onMouseDown:s!=="Month"&&o.isEditMode?j:void 0,children:[z,s!=="Month"&&o.isEditMode&&!e.isFullDay&&a.jsx("div",{className:"absolute bottom-0 h-[8px] w-full cursor-row-resize",onMouseDown:A})]}),g&&Ar.createPortal(a.jsx("div",{ref:v.setFloating,style:S,className:"z-[100] rounded shadow-xl",children:a.jsx(nr,{calendarEvent:e,date:t,isEditMode:o.isEditMode,onClose:()=>_(!1),onEdit:()=>{_(!1),M(!0)},onDelete:$})}),document.body),y&&a.jsx(bt,{isOpen:y,onClose:()=>M(!1),event:p})]})};xe.__docgenInfo={description:"",methods:[],displayName:"CalendarEvent",props:{event:{required:!0,tsType:{name:"CalendarEvent"},description:""},date:{required:!0,tsType:{name:"Date"},description:""},extraClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},draggable:{required:!1,tsType:{name:"boolean"},description:""},onDragStart:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.DragEvent<HTMLDivElement>, id: number | string) => void",signature:{arguments:[{type:{name:"ReactDragEvent",raw:"React.DragEvent<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},name:"event"},{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"id"}],return:{name:"void"}}},description:"",defaultValue:{value:"(_, _e) => {}",computed:!1}}}};var X=function(){return X=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},X.apply(this,arguments)};function Je(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var L="-ms-",Ne="-moz-",H="-webkit-",sr="comm",Qe="rule",wt="decl",Hn="@import",or="@keyframes",Ln="@layer",ar=Math.abs,Ct=String.fromCharCode,ft=Object.assign;function zn(e,t){return U(e,0)^45?(((t<<2^U(e,0))<<2^U(e,1))<<2^U(e,2))<<2^U(e,3):0}function ir(e){return e.trim()}function ue(e,t){return(e=t.exec(e))?e[0]:e}function T(e,t,r){return e.replace(t,r)}function Ye(e,t,r){return e.indexOf(t,r)}function U(e,t){return e.charCodeAt(t)|0}function Ce(e,t,r){return e.slice(t,r)}function ce(e){return e.length}function cr(e){return e.length}function _e(e,t){return t.push(e),e}function Yn(e,t){return e.map(t).join("")}function Ot(e,t){return e.filter(function(r){return!ue(r,t)})}var et=1,De=1,lr=0,oe=0,V=0,ke="";function tt(e,t,r,n,s,o,i,u){return{value:e,root:t,parent:r,type:n,props:s,children:o,line:et,column:De,length:i,return:"",siblings:u}}function me(e,t){return ft(tt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function be(e){for(;e.root;)e=me(e.root,{children:[e]});_e(e,e.siblings)}function qn(){return V}function Wn(){return V=oe>0?U(ke,--oe):0,De--,V===10&&(De=1,et--),V}function ie(){return V=oe<lr?U(ke,oe++):0,De++,V===10&&(De=1,et++),V}function ge(){return U(ke,oe)}function qe(){return oe}function rt(e,t){return Ce(ke,e,t)}function mt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bn(e){return et=De=1,lr=ce(ke=e),oe=0,[]}function Vn(e){return ke="",e}function at(e){return ir(rt(oe-1,pt(e===91?e+2:e===40?e+1:e)))}function Gn(e){for(;(V=ge())&&V<33;)ie();return mt(e)>2||mt(V)>3?"":" "}function Un(e,t){for(;--t&&ie()&&!(V<48||V>102||V>57&&V<65||V>70&&V<97););return rt(e,qe()+(t<6&&ge()==32&&ie()==32))}function pt(e){for(;ie();)switch(V){case e:return oe;case 34:case 39:e!==34&&e!==39&&pt(V);break;case 40:e===41&&pt(e);break;case 92:ie();break}return oe}function Jn(e,t){for(;ie()&&e+V!==57;)if(e+V===84&&ge()===47)break;return"/*"+rt(t,oe-1)+"*"+Ct(e===47?e:ie())}function Zn(e){for(;!mt(ge());)ie();return rt(e,oe)}function Kn(e){return Vn(We("",null,null,null,[""],e=Bn(e),0,[0],e))}function We(e,t,r,n,s,o,i,u,m){for(var p=0,g=0,y=i,k=0,c=0,f=0,l=1,v=1,S=1,M=0,D="",$=s,A=o,_=n,j=D;v;)switch(f=M,M=ie()){case 40:if(f!=108&&U(j,y-1)==58){Ye(j+=T(at(M),"&","&\f"),"&\f",ar(p?u[p-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:j+=at(M);break;case 9:case 10:case 13:case 32:j+=Gn(f);break;case 92:j+=Un(qe()-1,7);continue;case 47:switch(ge()){case 42:case 47:_e(Xn(Jn(ie(),qe()),t,r,m),m);break;default:j+="/"}break;case 123*l:u[p++]=ce(j)*S;case 125*l:case 59:case 0:switch(M){case 0:case 125:v=0;case 59+g:S==-1&&(j=T(j,/\f/g,"")),c>0&&ce(j)-y&&_e(c>32?Ft(j+";",n,r,y-1,m):Ft(T(j," ","")+";",n,r,y-2,m),m);break;case 59:j+=";";default:if(_e(_=At(j,t,r,p,g,s,u,D,$=[],A=[],y,o),o),M===123)if(g===0)We(j,t,_,_,$,o,y,u,A);else switch(k===99&&U(j,3)===110?100:k){case 100:case 108:case 109:case 115:We(e,_,_,n&&_e(At(e,_,_,0,0,s,u,D,s,$=[],y,A),A),s,A,y,u,n?$:A);break;default:We(j,_,_,_,[""],A,0,u,A)}}p=g=c=0,l=S=1,D=j="",y=i;break;case 58:y=1+ce(j),c=f;default:if(l<1){if(M==123)--l;else if(M==125&&l++==0&&Wn()==125)continue}switch(j+=Ct(M),M*l){case 38:S=g>0?1:(j+="\f",-1);break;case 44:u[p++]=(ce(j)-1)*S,S=1;break;case 64:ge()===45&&(j+=at(ie())),k=ge(),g=y=ce(D=j+=Zn(qe())),M++;break;case 45:f===45&&ce(j)==2&&(l=0)}}return o}function At(e,t,r,n,s,o,i,u,m,p,g,y){for(var k=s-1,c=s===0?o:[""],f=cr(c),l=0,v=0,S=0;l<n;++l)for(var M=0,D=Ce(e,k+1,k=ar(v=i[l])),$=e;M<f;++M)($=ir(v>0?c[M]+" "+D:T(D,/&\f/g,c[M])))&&(m[S++]=$);return tt(e,t,r,s===0?Qe:u,m,p,g,y)}function Xn(e,t,r,n){return tt(e,t,r,sr,Ct(qn()),Ce(e,2,-2),0,n)}function Ft(e,t,r,n,s){return tt(e,t,r,wt,Ce(e,0,n),Ce(e,n+1,-1),n,s)}function ur(e,t,r){switch(zn(e,t)){case 5103:return H+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return H+e+e;case 4789:return Ne+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return H+e+Ne+e+L+e+e;case 5936:switch(U(e,t+11)){case 114:return H+e+L+T(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return H+e+L+T(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return H+e+L+T(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return H+e+L+e+e;case 6165:return H+e+L+"flex-"+e+e;case 5187:return H+e+T(e,/(\w+).+(:[^]+)/,H+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return H+e+L+"flex-item-"+T(e,/flex-|-self/g,"")+(ue(e,/flex-|baseline/)?"":L+"grid-row-"+T(e,/flex-|-self/g,""))+e;case 4675:return H+e+L+"flex-line-pack"+T(e,/align-content|flex-|-self/g,"")+e;case 5548:return H+e+L+T(e,"shrink","negative")+e;case 5292:return H+e+L+T(e,"basis","preferred-size")+e;case 6060:return H+"box-"+T(e,"-grow","")+H+e+L+T(e,"grow","positive")+e;case 4554:return H+T(e,/([^-])(transform)/g,"$1"+H+"$2")+e;case 6187:return T(T(T(e,/(zoom-|grab)/,H+"$1"),/(image-set)/,H+"$1"),e,"")+e;case 5495:case 3959:return T(e,/(image-set\([^]*)/,H+"$1$`$1");case 4968:return T(T(e,/(.+:)(flex-)?(.*)/,H+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+H+e+e;case 4200:if(!ue(e,/flex-|baseline/))return L+"grid-column-align"+Ce(e,t)+e;break;case 2592:case 3360:return L+T(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,s){return t=s,ue(n.props,/grid-\w+-end/)})?~Ye(e+(r=r[t].value),"span",0)?e:L+T(e,"-start","")+e+L+"grid-row-span:"+(~Ye(r,"span",0)?ue(r,/\d+/):+ue(r,/\d+/)-+ue(e,/\d+/))+";":L+T(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return ue(n.props,/grid-\w+-start/)})?e:L+T(T(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return T(e,/(.+)-inline(.+)/,H+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ce(e)-1-t>6)switch(U(e,t+1)){case 109:if(U(e,t+4)!==45)break;case 102:return T(e,/(.+:)(.+)-([^]+)/,"$1"+H+"$2-$3$1"+Ne+(U(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ye(e,"stretch",0)?ur(T(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return T(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,o,i,u,m,p){return L+s+":"+o+p+(i?L+s+"-span:"+(u?m:+m-+o)+p:"")+e});case 4949:if(U(e,t+6)===121)return T(e,":",":"+H)+e;break;case 6444:switch(U(e,U(e,14)===45?18:11)){case 120:return T(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+H+(U(e,14)===45?"inline-":"")+"box$3$1"+H+"$2$3$1"+L+"$2box$3")+e;case 100:return T(e,":",":"+L)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return T(e,"scroll-","scroll-snap-")+e}return e}function Ze(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Qn(e,t,r,n){switch(e.type){case Ln:if(e.children.length)break;case Hn:case wt:return e.return=e.return||e.value;case sr:return"";case or:return e.return=e.value+"{"+Ze(e.children,n)+"}";case Qe:if(!ce(e.value=e.props.join(",")))return""}return ce(r=Ze(e.children,n))?e.return=e.value+"{"+r+"}":""}function es(e){var t=cr(e);return function(r,n,s,o){for(var i="",u=0;u<t;u++)i+=e[u](r,n,s,o)||"";return i}}function ts(e){return function(t){t.root||(t=t.return)&&e(t)}}function rs(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case wt:e.return=ur(e.value,e.length,r);return;case or:return Ze([me(e,{value:T(e.value,"@","@"+H)})],n);case Qe:if(e.length)return Yn(r=e.props,function(s){switch(ue(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":be(me(e,{props:[T(s,/:(read-\w+)/,":"+Ne+"$1")]})),be(me(e,{props:[s]})),ft(e,{props:Ot(r,n)});break;case"::placeholder":be(me(e,{props:[T(s,/:(plac\w+)/,":"+H+"input-$1")]})),be(me(e,{props:[T(s,/:(plac\w+)/,":"+Ne+"$1")]})),be(me(e,{props:[T(s,/:(plac\w+)/,L+"input-$1")]})),be(me(e,{props:[s]})),ft(e,{props:Ot(r,n)});break}return""})}}var ns={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ee={},Se=typeof process<"u"&&ee!==void 0&&(ee.REACT_APP_SC_ATTR||ee.SC_ATTR)||"data-styled",dr="active",fr="data-styled-version",nt="6.1.19",Dt=`/*!sc*/
`,Ke=typeof window<"u"&&typeof document<"u",ss=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ee!==void 0&&ee.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ee.REACT_APP_SC_DISABLE_SPEEDY!==""?ee.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ee.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ee!==void 0&&ee.SC_DISABLE_SPEEDY!==void 0&&ee.SC_DISABLE_SPEEDY!==""&&ee.SC_DISABLE_SPEEDY!=="false"&&ee.SC_DISABLE_SPEEDY),st=Object.freeze([]),Ee=Object.freeze({});function os(e,t,r){return r===void 0&&(r=Ee),e.theme!==r.theme&&e.theme||t||r.theme}var mr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),as=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,is=/(^-|-$)/g;function Pt(e){return e.replace(as,"-").replace(is,"")}var cs=/(a)(d)/gi,Fe=52,Ht=function(e){return String.fromCharCode(e+(e>25?39:97))};function ht(e){var t,r="";for(t=Math.abs(e);t>Fe;t=t/Fe|0)r=Ht(t%Fe)+r;return(Ht(t%Fe)+r).replace(cs,"$1-$2")}var it,pr=5381,we=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},hr=function(e){return we(pr,e)};function ls(e){return ht(hr(e)>>>0)}function us(e){return e.displayName||e.name||"Component"}function ct(e){return typeof e=="string"&&!0}var gr=typeof Symbol=="function"&&Symbol.for,yr=gr?Symbol.for("react.memo"):60115,ds=gr?Symbol.for("react.forward_ref"):60112,fs={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ms={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vr={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ps=((it={})[ds]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},it[yr]=vr,it);function Lt(e){return("type"in(t=e)&&t.type.$$typeof)===yr?vr:"$$typeof"in e?ps[e.$$typeof]:fs;var t}var hs=Object.defineProperty,gs=Object.getOwnPropertyNames,zt=Object.getOwnPropertySymbols,ys=Object.getOwnPropertyDescriptor,vs=Object.getPrototypeOf,Yt=Object.prototype;function xr(e,t,r){if(typeof t!="string"){if(Yt){var n=vs(t);n&&n!==Yt&&xr(e,n,r)}var s=gs(t);zt&&(s=s.concat(zt(t)));for(var o=Lt(e),i=Lt(t),u=0;u<s.length;++u){var m=s[u];if(!(m in ms||r&&r[m]||i&&m in i||o&&m in o)){var p=ys(t,m);try{hs(e,m,p)}catch{}}}}return e}function Me(e){return typeof e=="function"}function St(e){return typeof e=="object"&&"styledComponentId"in e}function he(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function qt(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=e[n];return r}function $e(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function gt(e,t,r){if(r===void 0&&(r=!1),!r&&!$e(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=gt(e[n],t[n]);else if($e(t))for(var n in t)e[n]=gt(e[n],t[n]);return e}function Et(e,t){Object.defineProperty(e,"toString",{value:t})}function Re(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xs=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,o=s;t>=o;)if((o<<=1)<0)throw Re(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=s;i<o;i++)this.groupSizes[i]=0}for(var u=this.indexOfGroup(t+1),m=(i=0,r.length);i<m;i++)this.tag.insertRule(u,r[i])&&(this.groupSizes[t]++,u++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),s=n+r;this.groupSizes[t]=0;for(var o=n;o<s;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],s=this.indexOfGroup(t),o=s+n,i=s;i<o;i++)r+="".concat(this.tag.getRule(i)).concat(Dt);return r},e})(),Be=new Map,Xe=new Map,Ve=1,Pe=function(e){if(Be.has(e))return Be.get(e);for(;Xe.has(Ve);)Ve++;var t=Ve++;return Be.set(e,t),Xe.set(t,e),t},bs=function(e,t){Ve=t+1,Be.set(e,t),Xe.set(t,e)},ws="style[".concat(Se,"][").concat(fr,'="').concat(nt,'"]'),Cs=new RegExp("^".concat(Se,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ds=function(e,t,r){for(var n,s=r.split(","),o=0,i=s.length;o<i;o++)(n=s[o])&&e.registerName(t,n)},Ss=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(Dt),s=[],o=0,i=n.length;o<i;o++){var u=n[o].trim();if(u){var m=u.match(Cs);if(m){var p=0|parseInt(m[1],10),g=m[2];p!==0&&(bs(g,p),Ds(e,g,m[3]),e.getTag().insertRules(p,s)),s.length=0}else s.push(u)}}},Wt=function(e){for(var t=document.querySelectorAll(ws),r=0,n=t.length;r<n;r++){var s=t[r];s&&s.getAttribute(Se)!==dr&&(Ss(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function Es(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var br=function(e){var t=document.head,r=e||t,n=document.createElement("style"),s=(function(u){var m=Array.from(u.querySelectorAll("style[".concat(Se,"]")));return m[m.length-1]})(r),o=s!==void 0?s.nextSibling:null;n.setAttribute(Se,dr),n.setAttribute(fr,nt);var i=Es();return i&&n.setAttribute("nonce",i),r.insertBefore(n,o),n},Ms=(function(){function e(t){this.element=br(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,s=0,o=n.length;s<o;s++){var i=n[s];if(i.ownerNode===r)return i}throw Re(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e})(),ks=(function(){function e(t){this.element=br(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),_s=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),Bt=Ke,js={isServer:!Ke,useCSSOMInjection:!ss},wr=(function(){function e(t,r,n){t===void 0&&(t=Ee),r===void 0&&(r={});var s=this;this.options=X(X({},js),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&Ke&&Bt&&(Bt=!1,Wt(this)),Et(this,function(){return(function(o){for(var i=o.getTag(),u=i.length,m="",p=function(y){var k=(function(S){return Xe.get(S)})(y);if(k===void 0)return"continue";var c=o.names.get(k),f=i.getGroup(y);if(c===void 0||!c.size||f.length===0)return"continue";var l="".concat(Se,".g").concat(y,'[id="').concat(k,'"]'),v="";c!==void 0&&c.forEach(function(S){S.length>0&&(v+="".concat(S,","))}),m+="".concat(f).concat(l,'{content:"').concat(v,'"}').concat(Dt)},g=0;g<u;g++)p(g);return m})(s)})}return e.registerId=function(t){return Pe(t)},e.prototype.rehydrate=function(){!this.server&&Ke&&Wt(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(X(X({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(r){var n=r.useCSSOMInjection,s=r.target;return r.isServer?new _s(s):n?new Ms(s):new ks(s)})(this.options),new xs(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Pe(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(Pe(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Pe(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),Ns=/&/g,$s=/^\s*\/\/.*$/gm;function Cr(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Cr(r.children,t)),r})}function Rs(e){var t,r,n,s=Ee,o=s.options,i=o===void 0?Ee:o,u=s.plugins,m=u===void 0?st:u,p=function(k,c,f){return f.startsWith(r)&&f.endsWith(r)&&f.replaceAll(r,"").length>0?".".concat(t):k},g=m.slice();g.push(function(k){k.type===Qe&&k.value.includes("&")&&(k.props[0]=k.props[0].replace(Ns,r).replace(n,p))}),i.prefix&&g.push(rs),g.push(Qn);var y=function(k,c,f,l){c===void 0&&(c=""),f===void 0&&(f=""),l===void 0&&(l="&"),t=l,r=c,n=new RegExp("\\".concat(r,"\\b"),"g");var v=k.replace($s,""),S=Kn(f||c?"".concat(f," ").concat(c," { ").concat(v," }"):v);i.namespace&&(S=Cr(S,i.namespace));var M=[];return Ze(S,es(g.concat(ts(function(D){return M.push(D)})))),M};return y.hash=m.length?m.reduce(function(k,c){return c.name||Re(15),we(k,c.name)},pr).toString():"",y}var Ts=new wr,yt=Rs(),Dr=ve.createContext({shouldForwardProp:void 0,styleSheet:Ts,stylis:yt});Dr.Consumer;ve.createContext(void 0);function Vt(){return d.useContext(Dr)}var Is=(function(){function e(t,r){var n=this;this.inject=function(s,o){o===void 0&&(o=yt);var i=n.name+o.hash;s.hasNameForId(n.id,i)||s.insertRules(n.id,i,o(n.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Et(this,function(){throw Re(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=yt),this.name+t.hash},e})(),Os=function(e){return e>="A"&&e<="Z"};function Gt(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;Os(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var Sr=function(e){return e==null||e===!1||e===""},Er=function(e){var t,r,n=[];for(var s in e){var o=e[s];e.hasOwnProperty(s)&&!Sr(o)&&(Array.isArray(o)&&o.isCss||Me(o)?n.push("".concat(Gt(s),":"),o,";"):$e(o)?n.push.apply(n,Je(Je(["".concat(s," {")],Er(o),!1),["}"],!1)):n.push("".concat(Gt(s),": ").concat((t=s,(r=o)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in ns||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function ye(e,t,r,n){if(Sr(e))return[];if(St(e))return[".".concat(e.styledComponentId)];if(Me(e)){if(!Me(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var s=e(t);return ye(s,t,r,n)}var o;return e instanceof Is?r?(e.inject(r,n),[e.getName(n)]):[e]:$e(e)?Er(e):Array.isArray(e)?Array.prototype.concat.apply(st,e.map(function(i){return ye(i,t,r,n)})):[e.toString()]}function As(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Me(r)&&!St(r))return!1}return!0}var Fs=hr(nt),Ps=(function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&As(t),this.componentId=r,this.baseHash=we(Fs,r),this.baseStyle=n,wr.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))s=he(s,this.staticRulesId);else{var o=qt(ye(this.rules,t,r,n)),i=ht(we(this.baseHash,o)>>>0);if(!r.hasNameForId(this.componentId,i)){var u=n(o,".".concat(i),void 0,this.componentId);r.insertRules(this.componentId,i,u)}s=he(s,i),this.staticRulesId=i}else{for(var m=we(this.baseHash,n.hash),p="",g=0;g<this.rules.length;g++){var y=this.rules[g];if(typeof y=="string")p+=y;else if(y){var k=qt(ye(y,t,r,n));m=we(m,k+g),p+=k}}if(p){var c=ht(m>>>0);r.hasNameForId(this.componentId,c)||r.insertRules(this.componentId,c,n(p,".".concat(c),void 0,this.componentId)),s=he(s,c)}}return s},e})(),Mr=ve.createContext(void 0);Mr.Consumer;var lt={};function Hs(e,t,r){var n=St(e),s=e,o=!ct(e),i=t.attrs,u=i===void 0?st:i,m=t.componentId,p=m===void 0?(function($,A){var _=typeof $!="string"?"sc":Pt($);lt[_]=(lt[_]||0)+1;var j="".concat(_,"-").concat(ls(nt+_+lt[_]));return A?"".concat(A,"-").concat(j):j})(t.displayName,t.parentComponentId):m,g=t.displayName,y=g===void 0?(function($){return ct($)?"styled.".concat($):"Styled(".concat(us($),")")})(e):g,k=t.displayName&&t.componentId?"".concat(Pt(t.displayName),"-").concat(t.componentId):t.componentId||p,c=n&&s.attrs?s.attrs.concat(u).filter(Boolean):u,f=t.shouldForwardProp;if(n&&s.shouldForwardProp){var l=s.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;f=function($,A){return l($,A)&&v($,A)}}else f=l}var S=new Ps(r,k,n?s.componentStyle:void 0);function M($,A){return(function(_,j,q){var z=_.attrs,O=_.componentStyle,b=_.defaultProps,I=_.foldedComponentIds,Y=_.styledComponentId,E=_.target,x=ve.useContext(Mr),h=Vt(),C=_.shouldForwardProp||h.shouldForwardProp,w=os(j,x,b)||Ee,N=(function(J,te,re){for(var ae,Z=X(X({},te),{className:void 0,theme:re}),G=0;G<J.length;G+=1){var Q=Me(ae=J[G])?ae(Z):ae;for(var K in Q)Z[K]=K==="className"?he(Z[K],Q[K]):K==="style"?X(X({},Z[K]),Q[K]):Q[K]}return te.className&&(Z.className=he(Z.className,te.className)),Z})(z,j,w),R=N.as||E,F={};for(var P in N)N[P]===void 0||P[0]==="$"||P==="as"||P==="theme"&&N.theme===w||(P==="forwardedAs"?F.as=N.forwardedAs:C&&!C(P,R)||(F[P]=N[P]));var W=(function(J,te){var re=Vt(),ae=J.generateAndInjectStyles(te,re.styleSheet,re.stylis);return ae})(O,N),B=he(I,Y);return W&&(B+=" "+W),N.className&&(B+=" "+N.className),F[ct(R)&&!mr.has(R)?"class":"className"]=B,q&&(F.ref=q),d.createElement(R,F)})(D,$,A)}M.displayName=y;var D=ve.forwardRef(M);return D.attrs=c,D.componentStyle=S,D.displayName=y,D.shouldForwardProp=f,D.foldedComponentIds=n?he(s.foldedComponentIds,s.styledComponentId):"",D.styledComponentId=k,D.target=n?s.target:e,Object.defineProperty(D,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($){this._foldedDefaultProps=n?(function(A){for(var _=[],j=1;j<arguments.length;j++)_[j-1]=arguments[j];for(var q=0,z=_;q<z.length;q++)gt(A,z[q],!0);return A})({},s.defaultProps,$):$}}),Et(D,function(){return".".concat(D.styledComponentId)}),o&&xr(D,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),D}function Ut(e,t){for(var r=[e[0]],n=0,s=t.length;n<s;n+=1)r.push(t[n],e[n+1]);return r}var Jt=function(e){return Object.assign(e,{isCss:!0})};function Ls(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Me(e)||$e(e))return Jt(ye(Ut(st,Je([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]=="string"?ye(n):Jt(ye(Ut(n,t)))}function vt(e,t,r){if(r===void 0&&(r=Ee),!t)throw Re(1,t);var n=function(s){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e(t,r,Ls.apply(void 0,Je([s],o,!1)))};return n.attrs=function(s){return vt(e,t,X(X({},r),{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return vt(e,t,X(X({},r),s))},n}var kr=function(e){return vt(Hs,e)},_r=kr;mr.forEach(function(e){_r[e]=kr(e)});const zs=_r.div`
  &:before{
    content: '';
    display: block;
    width: 12px;
    height: 12px;
    background-color: red;
    border-radius: 50%;
    position: absolute;
    left: -8px;
    top: 50%;
    transform: translateY(-50%);
  }
`,Mt=({date:e,redundantCellHeight:t=0})=>{const{config:r}=d.useContext(le),[n,s]=d.useState(new Date);d.useEffect(()=>{const u=setInterval(()=>{s(new Date)},6e4);return()=>clearInterval(u)},[]);const o=d.useMemo(()=>new Date(e).toDateString()===n.toDateString(),[e,n]),i=d.useMemo(()=>{const m=(r.hourHeight||72)/60,p=n.getHours(),g=n.getMinutes();return{top:`${(p*60+g)*m+t}px`}},[n,r.hourHeight,t]);return o?a.jsx("div",{className:"absolute left-0 right-0 z-10 w-full pl-2",style:i,children:a.jsx(zs,{className:"relative h-0.5 bg-red-600"})}):null};Mt.__docgenInfo={description:"",methods:[],displayName:"CalendarTimeMarker",props:{date:{required:!0,tsType:{name:"Date"},description:""},redundantCellHeight:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}}}};const kt=(e,t="")=>{const r=d.useMemo(()=>{const s=Nt(e,i=>i.date),o={};if(t==="Month")for(const[i,u]of Object.entries(s))o[i]=vn(u);else for(const[i,u]of Object.entries(s))u.filter(m=>!m.isFullDay).map(m=>(m.startTime=se(m.fromTime),m.endTime=se(m.toTime),m)).sort((m,p)=>m.startTime-p.startTime),o[i]=hn(u);return o},[e,t]),n=d.useMemo(()=>{const s=e.filter(o=>o.isFullDay);return Nt(s,o=>ne(o.date))},[e]);return{timedEvents:r,fullDayEvents:n}},jr=()=>{const{handleCellDblClick:e}=d.useContext(le),{events:t,config:r,currentDate:n}=d.useContext(le),{timedEvents:s,fullDayEvents:o}=kt(t,"Day"),i=d.useRef(null),u=r.hourHeight||72,m=r.timeFormat==="24h"?rr:tr;d.useEffect(()=>{if(i.current){const g=new Date().getHours();i.current.scrollTop=g*u}},[u]);const p=ne(n);return a.jsxs("div",{className:"h-[90%] min-h-[500px] min-w-[600px]",children:[a.jsx("p",{className:"pb-2 text-base font-semibold text-ink-gray-8",children:Xt(n.toDate(),!0)}),a.jsxs("div",{className:de("flex h-full w-full overflow-y-scroll border-ink-gray-2",r.noBorder?"border-t":"border border-r-0"),ref:i,children:[a.jsx("div",{className:"grid h-full w-16 grid-cols-1",children:Array.from({length:24}).map((g,y)=>a.jsx("div",{style:{height:`${u}px`}},y))}),a.jsx("div",{className:"grid h-full w-full grid-cols-1 pb-2",children:a.jsxs("div",{className:"calendar-column relative border-r border-l border-ink-gray-2",children:[a.jsx("div",{className:"flex w-full flex-wrap gap-2 overflow-y-auto border-b border-ink-gray-2 p-1 transition-all",style:{minHeight:`${r.redundantCellHeight}px`},children:(o[p]||[]).map((g,y)=>a.jsx(xe,{event:{...g,idx:y},date:n.toDate(),extraClassName:"mb-1 w-[20%] cursor-pointer"},g.id))}),m.map(g=>a.jsx("div",{className:"relative flex text-ink-gray-8","data-time-attr":g,onDoubleClick:y=>e(y,n.toDate(),g),children:a.jsx("div",{className:"w-full border-b border-ink-gray-2",style:{height:`${u}px`}})},g)),(s[p]||[]).map(g=>a.jsx(xe,{event:g,date:n.toDate(),extraClassName:"absolute mb-2 cursor-pointer"},g.id)),a.jsx(Mt,{date:n.toDate()})]})})]})]})};jr.__docgenInfo={description:"",methods:[],displayName:"CalendarDaily"};const _t=({event:e,date:t,totalEventsCount:r,onShowMore:n,...s})=>a.jsxs(a.Fragment,{children:[a.jsx(xe,{event:e,date:t,extraClassName:"mb-1 cursor-pointer",...s}),r>1&&a.jsxs("span",{className:"mx-1 w-fit cursor-pointer rounded-sm p-px px-1.5 text-base font-medium text-gray-600 hover:bg-gray-100",onClick:n,children:["+",r-1," more"]})]});_t.__docgenInfo={description:"",methods:[],displayName:"ShowMoreCalendarEvent",props:{event:{required:!0,tsType:{name:"CalendarEvent"},description:""},date:{required:!0,tsType:{name:"Date"},description:""},totalEventsCount:{required:!0,tsType:{name:"number"},description:""},onShowMore:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDragStart:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.DragEvent<HTMLDivElement>) => void",signature:{arguments:[{type:{name:"ReactDragEvent",raw:"React.DragEvent<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},name:"e"}],return:{name:"void"}}},description:""},draggable:{required:!1,tsType:{name:"boolean"},description:""}}};const Nr=()=>{const{events:e,currentMonthDates:t,currentDate:r,config:n}=d.useContext(le),{updateEventState:s,setActiveView:o,setCurrentDate:i}=d.useContext(le),{timedEvents:u}=kt(e,"Month"),m=d.useMemo(()=>t.length>35?1:2,[t]),p=f=>f.getMonth()===r.month(),g=f=>new Date().toDateString()===f.toDateString(),y=(f,l)=>{if(!l||!n.isEditMode)return;const v=f.target;v.style.opacity="0.5",f.dataTransfer.dropEffect="move",f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("calendarEventID",String(l))},k=(f,l)=>{f.preventDefault();const v=f.dataTransfer.getData("calendarEventID");if(!v)return;const S=e.find(M=>String(M.id)===v);!S||ne(l)===S.date||s({...S,date:ne(l)})},c=f=>{i(f),o("Day")};return a.jsxs("div",{className:"flex flex-1 flex-col overflow-y-auto",children:[a.jsx("div",{className:"grid w-full grid-cols-7 py-2",children:er.map(f=>a.jsx("span",{className:"text-center text-base text-ink-gray-5",children:f},f))}),a.jsx("div",{className:de("grid w-full flex-1 grid-cols-7 border-ink-gray-2",t.length>35?"grid-rows-6":"grid-rows-5",n.noBorder?"border-t":"border"),children:t.map(f=>{const l=u[ne(f)]||[];return a.jsx("div",{className:"overflow-y-auto border-t border-l border-gray-200 p-1",onDragOver:v=>v.preventDefault(),onDrop:v=>k(v,f),onDoubleClick:v=>n.onCellDblClick(v,f),children:a.jsxs("div",{className:de("flex h-full w-full flex-col items-center gap-1 font-normal",p(f)?"text-ink-gray-7":"text-ink-gray-3"),children:[a.jsx("span",{className:de("text-xs",g(f)&&"flex items-center justify-center h-6 w-6 rounded-full bg-surface-blue-3 text-surface-white font-semibold"),children:f.getDate()}),a.jsx("div",{className:"w-full",children:l.length<=m?l.map(v=>a.jsx(xe,{event:v,date:f,draggable:n.isEditMode,onDragStart:S=>{y(S,v.id)}},v.id)):a.jsx(_t,{event:l[0],date:f,totalEventsCount:l.length,onShowMore:()=>c(f),draggable:n.isEditMode,onDragStart:v=>y(v,l[0].id)})})]})},f.toISOString())})})]})};Nr.__docgenInfo={description:"",methods:[],displayName:"CalendarMonthly"};const $r=({weeklyDates:e})=>{const{handleCellDblClick:t}=d.useContext(le),{events:r,config:n}=d.useContext(le),{timedEvents:s,fullDayEvents:o}=kt(r,"Week"),[i,u]=d.useState(!1),[m,p]=d.useState(!1),g=d.useRef(null),y=d.useRef([]),k=n.hourHeight||72,c=n.timeFormat==="24h"?rr:tr,f=l=>new Date(l).toDateString()===new Date().toDateString();return d.useEffect(()=>{const l=$=>n.redundantCellHeight+36*($-1),v=e.map($=>ne($)),S=Object.entries(o).filter(([$])=>v.includes($)),M=Math.max(0,...S.map(([,$])=>$.length));p(M>3);const D=i?56:l(Math.max(1,M));y.current.forEach($=>{$&&($.style.height=`${D}px`)})},[o,e,i,n.redundantCellHeight]),d.useEffect(()=>{if(g.current){const l=new Date().getHours();g.current.scrollTop=l*k}},[k]),a.jsxs("div",{className:"flex flex-col overflow-y-auto",children:[a.jsxs("div",{className:"flex border-b",children:[a.jsx("div",{className:"w-16"}),a.jsx("div",{className:"grid w-full grid-cols-7",children:e.map(l=>a.jsxs("div",{className:de("relative p-2 text-center text-sm",f(l)?"font-semibold text-ink-gray-8":"font-normal text-ink-gray-6"),children:[f(l)&&a.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-0 h-0.5 w-5 bg-ink-gray-7"}),Xt(l)]},l.toISOString()))})]}),a.jsx("div",{className:"relative flex h-full flex-col overflow-auto border-ink-gray-2",ref:g,children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"grid w-16 grid-cols-1",children:[a.jsx("div",{ref:l=>{y.current||(y.current=[]),y.current[0]=l},style:{height:"56px"}}),Array.from({length:24}).map((l,v)=>a.jsx("div",{style:{height:`${k}px`}},v))]}),a.jsxs("div",{className:"flex w-full flex-col",children:[a.jsxs("div",{className:"grid w-full grid-cols-7 relative",children:[m&&a.jsx(Ge,{onClick:()=>u(!i),className:"absolute -left-10 bottom-1 z-10",icon:()=>i?a.jsx(Hr,{size:16}):a.jsx(en,{size:16}),variant:"ghost"}),e.map((l,v)=>a.jsx("div",{ref:S=>{y.current||(y.current=[]),y.current[v]=S},className:"flex w-full flex-col gap-1 border-b border-r border-ink-gray-2 p-1 transition-all",children:i?(o[ne(l)]||[]).length>0&&a.jsx(_t,{event:o[ne(l)][0],date:l,totalEventsCount:o[ne(l)].length,onShowMore:()=>u(!1)}):(o[ne(l)]||[]).map((S,M)=>a.jsx(xe,{event:{...S,idx:M},date:l},S.id))},l.toISOString()))]}),a.jsx("div",{className:"grid w-full grid-cols-7",children:e.map(l=>a.jsxs("div",{className:"relative w-full border-r border-ink-gray-2","data-date-attr":l.toISOString(),children:[c.map((v,S)=>a.jsx("div",{className:"cell relative flex cursor-pointer",onDoubleClick:M=>t(M,l,v),children:a.jsx("div",{className:de("w-full border-b border-ink-gray-2",S===c.length-1&&"border-b-0"),style:{height:`${k}px`}})},v)),(s[ne(l)]||[]).map(v=>a.jsx(xe,{event:v,date:l},v.id)),a.jsx(Mt,{date:l})]},l.toISOString()))})]})]})})]})};$r.__docgenInfo={description:"",methods:[],displayName:"CalendarWeekly",props:{weeklyDates:{required:!0,tsType:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},description:""}}};const Ys=(e,t)=>{const r=d.useMemo(()=>({defaultMode:"Month",isEditMode:!1}),[]),n=d.useMemo(()=>({...r,...e}),[r,e]),[s,o]=d.useState(n.defaultMode),[i,u]=d.useState(Ae()),[m,p]=d.useState([]),[g,y]=d.useState(!1),[k,c]=d.useState({}),f=d.useMemo(()=>(t||[]).map(b=>{const{fromDate:I,toDate:Y,...E}=b,x=ne(I),h=Ae(I).format("HH:mm:ss"),C=Ae(Y).format("HH:mm:ss");return b.isFullDay?{...E,date:x}:{...E,date:x,from_time:h,to_time:C}}),[t]);d.useEffect(()=>{p(f)},[f]);const l=d.useCallback(b=>{p(I=>[...I,b]),n.createNewEvent&&n.createNewEvent(b)},[n]),v=d.useCallback((b,I)=>{c({date:b,from_time:I}),y(!0)},[]),S=d.useCallback((b,I,Y)=>{const E={event:b,date:I,time:Y,view:s};n.onCellDblClick&&n.onCellDblClick(E),v(I,Y)},[s,n,v]),M=d.useCallback(b=>{p(I=>I.map(Y=>Y.id===b.id?b:Y)),n.updateEventState&&n.updateEventState(b)},[n]),D=d.useCallback(b=>{p(I=>I.filter(Y=>Y.id!==b)),n.deleteEvent&&n.deleteEvent(b)},[n]),$=i.month(),A=i.year(),_=d.useMemo(()=>mn($,A),[$,A]),j=d.useMemo(()=>{const b=[..._],I=[];for(;b.length;)I.push(b.splice(0,7));return I},[_]),q=d.useMemo(()=>j.findIndex(b=>b.some(I=>Ae(I).isSame(i,"day"))),[j,i]),z=d.useCallback(()=>{s==="Month"&&u(b=>b.add(1,"month")),s==="Week"&&u(b=>b.add(1,"week")),s==="Day"&&u(b=>b.add(1,"day"))},[s]),O=d.useCallback(()=>{s==="Month"&&u(b=>b.subtract(1,"month")),s==="Week"&&u(b=>b.subtract(1,"week")),s==="Day"&&u(b=>b.subtract(1,"day"))},[s]);return d.useEffect(()=>{if(!n.enableShortcuts)return;const b=I=>{I.key.toLowerCase()==="m"&&o("Month"),I.key.toLowerCase()==="w"&&o("Week"),I.key.toLowerCase()==="d"&&o("Day"),I.key==="ArrowLeft"&&O(),I.key==="ArrowRight"&&z()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[n.enableShortcuts,O,z]),{state:{activeView:s,currentDate:i,events:m,config:n,currentMonthDates:_,datesInWeeks:j,weekIndex:q,showEventModal:g,newEventInfo:k},actions:{setActiveView:o,increment:z,decrement:O,createNewEvent:l,updateEventState:M,handleCellDblClick:S,deleteEvent:D,openNewEventModal:v,setShowEventModal:y}}},Te=({events:e=[],config:t={},header:r})=>{const{state:n,actions:s}=Ys(t,e),{activeView:o,currentDate:i,config:u,showEventModal:m,newEventInfo:p,weekIndex:g,datesInWeeks:y}=n,{setActiveView:k,increment:c,decrement:f,setShowEventModal:l}=s,v=[{id:"Month",label:"Month"},{id:"Week",label:"Week"},{id:"Day",label:"Day"}].filter(D=>!u.disableModes?.includes(D.label)),S=()=>{switch(o){case"Month":return a.jsx(Nr,{});case"Week":return a.jsx($r,{weeklyDates:y[g]});case"Day":return a.jsx(jr,{});default:return null}},M={currentMonthYear:i.format("MMMM, YYYY"),enabledModes:v,activeView:o,decrement:f,increment:c,updateActiveView:k};return a.jsx(le.Provider,{value:{...n,...s},children:a.jsxs("div",{className:"flex h-full flex-col overflow-hidden",children:[r?a.jsx(r,{...M}):a.jsxs("div",{className:"mb-2 flex justify-between",children:[a.jsx("span",{className:"text-lg font-medium text-ink-gray-8",children:M.currentMonthYear}),a.jsxs("div",{className:"flex gap-x-1",children:[a.jsx(Ge,{onClick:f,variant:"ghost",icon:()=>a.jsx(Zr,{size:16})}),a.jsx(Ge,{onClick:c,variant:"ghost",icon:()=>a.jsx(Xr,{size:16})})]})]}),S(),m&&a.jsx(bt,{isOpen:m,onClose:()=>l(!1),event:p})]})})};Te.__docgenInfo={description:"",methods:[],displayName:"Calendar",props:{events:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:"",defaultValue:{value:"[]",computed:!1}},config:{required:!1,tsType:{name:"Partial",elements:[{name:"CalendarConfig"}],raw:"Partial<CalendarConfig>"},description:"",defaultValue:{value:"{}",computed:!1}},header:{required:!1,tsType:{name:"ReactFC",raw:"React.FC<any>",elements:[{name:"any"}]},description:""}}};const{action:ut}=__STORYBOOK_MODULE_ACTIONS__,bo={title:"Components/Calendar",component:Te,parameters:{layout:"centered"},argTypes:{config:{createNewEvent:{action:"create"},updateEventState:{action:"update"},deleteEvent:{action:"delete"},description:"Configuration object for the calendar"},events:{description:"Array of calendar events to display"},header:{description:"Custom header component for the calendar"}},tags:["autodocs"]},Rr={defaultMode:"Month",isEditMode:!0,eventIcons:{},allowCustomClickEvents:!0,redundantCellHeight:100,hourHeight:50,enableShortcuts:!1,timeFormat:"12h"},Tr=[{title:"English by Ryan Mathew",participant:"Ryan Mathew",id:"EDU-CSH-2024-00091",venue:"CNF-ROOM-2024-00001",fromDate:"2025-09-02",toDate:"2025-09-02",fromTime:"16:30",toTime:"17:30",color:"violet"},{title:"English by Ryan Mathew",participant:"Ryan Mathew",id:"EDU-CSH-2024-00092",venue:"CNF-ROOM-2024-00002",fromDate:"2025-09-04",toDate:"2025-09-04",fromTime:"13:30",toTime:"17:30",color:"green"},{title:"English by Sheldon",participant:"Sheldon",id:"EDU-CSH-2024-00093",venue:"CNF-ROOM-2024-00001",fromDate:"2025-09-16",toDate:"2025-09-16",fromTime:"10:30",toTime:"11:30",color:"blue"},{title:"English by Ryan Mathew",participant:"Ryan Mathew",id:"EDU-CSH-2024-00094",venue:"CNF-ROOM-2024-00001",fromDate:"2025-09-21",toDate:"2025-09-21",fromTime:"16:30",toTime:"17:30",color:"red"},{title:"Google Meet with John ",participant:"John",id:"#htrht41",venue:"Google Meet",fromDate:"2025-09-11",toDate:"2025-09-11",fromTime:"00:00",toTime:"02:00",color:"amber",isFullDay:!0},{title:"Zoom Meet with Sheldon",participant:"Sheldon",id:"#htrht42",venue:"Google Meet",fromDate:"2025-09-07",toDate:"2025-09-07",fromTime:"00:00",toTime:"02:00",color:"amber",isFullDay:!0}],je={args:{config:{...Rr,createNewEvent:ut("createEvent"),updateEventState:ut("updateEvent"),deleteEvent:ut("deleteEvent")},events:Tr},render:e=>a.jsx(xt,{children:a.jsx("div",{className:"flex h-screen flex-col overflow-hidden p-5",children:a.jsx(Te,{...e})})})},He={args:{...je.args,header:({currentMonthYear:e,decrement:t,increment:r,enabledModes:n,activeView:s,updateActiveView:o})=>a.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-xl font-bold text-ink-gray-1",children:e}),a.jsxs("div",{className:"flex items-center gap-1 text-ink-gray-1",children:[a.jsx("button",{onClick:t,className:"p-2 rounded hover:bg-gray-200",children:"Previous"}),a.jsx("button",{onClick:r,className:"p-2 rounded hover:bg-gray-200",children:"Next"})]}),a.jsx(Vr,{buttons:n.map(i=>({value:i.id,label:i.label})),value:s,onChange:o})]})})},render:e=>a.jsx(xt,{children:a.jsx("div",{className:"flex h-screen flex-col overflow-hidden p-5",children:a.jsx(Te,{...e})})})},Le={args:{config:{...Rr,allowCustomClickEvents:!0,onClick:()=>{console.log("Cell clicked")},onDblClick:()=>{console.log("Cell double clicked")},onCellDblClick:()=>{console.log("Cell double clicked")}},events:Tr},render:e=>a.jsx(xt,{children:a.jsx("div",{className:"flex h-screen flex-col overflow-hidden p-5",children:a.jsx(Te,{...e})})})};je.parameters={...je.parameters,docs:{...je.parameters?.docs,source:{originalSource:`{
  args: {
    config: {
      ...config,
      createNewEvent: action("createEvent"),
      updateEventState: action("updateEvent"),
      deleteEvent: action("deleteEvent")
    },
    events
  },
  render: args => <MemoryRouter>
      <div className="flex h-screen flex-col overflow-hidden p-5">
        <Calendar {...args} />
      </div>
    </MemoryRouter>
}`,...je.parameters?.docs?.source}}};He.parameters={...He.parameters,docs:{...He.parameters?.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    header: ({
      currentMonthYear,
      decrement,
      increment,
      enabledModes,
      activeView,
      updateActiveView
    }) => <div className="flex items-center justify-between p-4 border-b">
        <div className="flex items-center gap-4">
          <h1 className="text-xl font-bold text-ink-gray-1">
            {currentMonthYear}
          </h1>
          <div className="flex items-center gap-1 text-ink-gray-1">
            <button onClick={decrement} className="p-2 rounded hover:bg-gray-200">
              Previous
            </button>
            <button onClick={increment} className="p-2 rounded hover:bg-gray-200">
              Next
            </button>
          </div>
          <TabButtons buttons={enabledModes.map((mode: {
          id: string;
          label: string;
        }) => ({
          value: mode.id,
          label: mode.label
        }))} value={activeView} onChange={updateActiveView} />
        </div>
      </div>
  },
  render: args => <MemoryRouter>
      <div className="flex h-screen flex-col overflow-hidden p-5">
        <Calendar {...args} />
      </div>
    </MemoryRouter>
}`,...He.parameters?.docs?.source}}};Le.parameters={...Le.parameters,docs:{...Le.parameters?.docs,source:{originalSource:`{
  args: {
    config: {
      ...config,
      allowCustomClickEvents: true,
      onClick: () => {
        console.log("Cell clicked");
      },
      onDblClick: () => {
        console.log("Cell double clicked");
      },
      onCellDblClick: () => {
        console.log("Cell double clicked");
      }
    },
    events
  },
  render: args => <MemoryRouter>
      <div className="flex h-screen flex-col overflow-hidden p-5">
        <Calendar {...args} />
      </div>
    </MemoryRouter>
}`,...Le.parameters?.docs?.source}}};const wo=["Default","CustomHeader","CustomClickEvents"];export{Le as CustomClickEvents,He as CustomHeader,je as Default,wo as __namedExportsOrder,bo as default};
