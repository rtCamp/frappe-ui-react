import{d as V,z as oe,o as I,g as tt,A as Me,u as fe,l as qe,s as ge,B as Ye,C as ce,D as sn,E as ln,F as We,i as Ft,G as an,p as Te,I as un,Y as se,y as pe,K as le,T as cn,Z as dn,m as fn,N as Ke,w as pn,$ as At,e as Dt,n as Oe,f as Ge,a as hn,b as mn,c as gn,V as vn,j as bn,J as nt,h as X}from"./label-BM8_gdnq.js";import{r as c,a as xn,R as En,e as A}from"./iframe-BjtiHmwT.js";import{r as Z}from"./index-DVL4rZCR.js";import{w as Sn,e as yn}from"./use-resolve-button-type-pYJO_gjF.js";import{H as Cn,I as wn,E as On,G as Rn,u as $n}from"./focus-management-B7CZ_raV.js";import{u as In,i as Ie,e as Mn,o as zt,d as Pe,m as ke,r as Tn,g as Pn,s as kn,f as Fn,a as An,c as Dn}from"./floating-ui.react-dom-CqRtmaVQ.js";function he(e,n,t){let o=t.initialDeps??[],r;function i(){var s,l,a,u;let d;t.key&&((s=t.debug)!=null&&s.call(t))&&(d=Date.now());const m=e();if(!(m.length!==o.length||m.some((f,g)=>o[g]!==f)))return r;o=m;let p;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(p=Date.now()),r=n(...m),t.key&&((a=t.debug)!=null&&a.call(t))){const f=Math.round((Date.now()-d)*100)/100,g=Math.round((Date.now()-p)*100)/100,v=g/16,S=(C,b)=>{for(C=String(C);C.length<b;)C=" "+C;return C};console.info(`%câ± ${S(g,5)} /${S(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,t?.key)}return(u=t?.onChange)==null||u.call(t,r),r}return i.updateDeps=s=>{o=s},i}function ot(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const zn=(e,n)=>Math.abs(e-n)<1.01,_n=(e,n,t)=>{let o;return function(...r){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,r),t)}},rt=e=>{const{offsetWidth:n,offsetHeight:t}=e;return{width:n,height:t}},Ln=e=>e,Nn=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let r=n;r<=t;r++)o.push(r);return o},Wn=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const r=s=>{const{width:l,height:a}=s;n({width:Math.round(l),height:Math.round(a)})};if(r(rt(t)),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(s=>{const l=()=>{const a=s[0];if(a?.borderBoxSize){const u=a.borderBoxSize[0];if(u){r({width:u.inlineSize,height:u.blockSize});return}}r(rt(t))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},it={passive:!0},st=typeof window>"u"?!0:"onscrollend"in window,jn=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let r=0;const i=e.options.useScrollendEvent&&st?()=>{}:_n(o,()=>{n(r,!1)},e.options.isScrollingResetDelay),s=d=>()=>{const{horizontal:m,isRtl:h}=e.options;r=m?t.scrollLeft*(h&&-1||1):t.scrollTop,i(),n(r,d)},l=s(!0),a=s(!1);a(),t.addEventListener("scroll",l,it);const u=e.options.useScrollendEvent&&st;return u&&t.addEventListener("scrollend",a,it),()=>{t.removeEventListener("scroll",l),u&&t.removeEventListener("scrollend",a)}},Vn=(e,n,t)=>{if(n?.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},Hn=(e,{adjustments:n=0,behavior:t},o)=>{var r,i;const s=e+n;(i=(r=o.scrollElement)==null?void 0:r.scrollTo)==null||i.call(r,{[o.options.horizontal?"left":"top"]:s,behavior:t})};class Bn{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(r=>{r.forEach(i=>{const s=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var r;(r=o())==null||r.disconnect(),t=null},observe:r=>{var i;return(i=o())==null?void 0:i.observe(r,{box:"border-box"})},unobserve:r=>{var i;return(i=o())==null?void 0:i.unobserve(r)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,r])=>{typeof r>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ln,rangeExtractor:Nn,onChange:()=>{},measureElement:Vn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var o,r;(r=(o=this.options).onChange)==null||r.call(o,this,t)},this.maybeNotify=he(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const r=new Map,i=new Map;for(let s=o-1;s>=0;s--){const l=t[s];if(r.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&r.set(l.lane,!0),r.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((s,l)=>s.end===l.end?s.index-l.index:s.end-l.end)[0]:void 0},this.getMeasurementOptions=he(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,r,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:r,getItemKey:i,enabled:s}),{key:!1}),this.getMeasurements=he(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:r,getItemKey:i,enabled:s},l)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,a);for(let d=a;d<t;d++){const m=i(d),h=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=h?h.end+this.options.gap:o+r,f=l.get(m),g=typeof f=="number"?f:this.options.estimateSize(d),v=p+g,S=h?h.lane:d%this.options.lanes;u[d]={index:d,start:p,size:g,end:v,key:m,lane:S}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=he(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,o,r,i)=>this.range=t.length>0&&o>0?Un({measurements:t,outerSize:o,scrollOffset:r,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=he(()=>{let t=null,o=null;const r=this.calculateRange();return r&&(t=r.startIndex,o=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,o]},(t,o,r,i,s)=>i===null||s===null?[]:t({startIndex:i,endIndex:s,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,r=t.getAttribute(o);return r?parseInt(r,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const r=this.indexFromElement(t),i=this.measurementsCache[r];if(!i)return;const s=i.key,l=this.elementsCache.get(s);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(s,t)),t.isConnected&&this.resizeItem(r,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const r=this.measurementsCache[t];if(!r)return;const i=this.itemSizeCache.get(r.key)??r.size,s=o-i;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,s,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,r)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(r))});return}this._measureElement(t,void 0)},this.getVirtualItems=he(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,o)=>{const r=[];for(let i=0,s=t.length;i<s;i++){const l=t[i],a=o[l];r.push(a)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return ot(o[_t(0,o.length-1,r=>ot(o[r]).start,t)])},this.getOffsetForAlignment=(t,o,r=0)=>{const i=this.getSize(),s=this.getScrollOffset();o==="auto"&&(o=t>=s+i?"end":"start"),o==="center"?t+=(r-i)/2:o==="end"&&(t-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const r=this.measurementsCache[t];if(!r)return;const i=this.getSize(),s=this.getScrollOffset();if(o==="auto")if(r.end>=s+i-this.options.scrollPaddingEnd)o="end";else if(r.start<=s+this.options.scrollPaddingStart)o="start";else return[s,o];const l=o==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o,r.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:o="start",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:r})},this.scrollToIndex=(t,{align:o="auto",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let i=0;const s=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(t,u);if(!d){console.warn("Failed to get offset for index:",t);return}const[m,h]=d;this._scrollToOffset(m,{adjustments:void 0,behavior:r}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),f=this.getOffsetForIndex(t,h);if(!f){console.warn("Failed to get offset for index:",t);return}zn(f[0],p)||a(h)})},a=u=>{this.targetWindow&&(i++,i<s?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${t} after ${s} attempts.`))};l(o)},this.scrollBy=(t,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let r;if(o.length===0)r=this.options.paddingStart;else if(this.options.lanes===1)r=((t=o[o.length-1])==null?void 0:t.end)??0;else{const i=Array(this.options.lanes).fill(null);let s=o.length-1;for(;s>=0&&i.some(l=>l===null);){const l=o[s];i[l.lane]===null&&(i[l.lane]=l.end),s--}r=Math.max(...i.filter(l=>l!==null))}return Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:o,behavior:r})=>{this.options.scrollToFn(t,{behavior:r,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const _t=(e,n,t,o)=>{for(;e<=n;){const r=(e+n)/2|0,i=t(r);if(i<o)e=r+1;else if(i>o)n=r-1;else return r}return e>0?e-1:0};function Un({measurements:e,outerSize:n,scrollOffset:t,lanes:o}){const r=e.length-1,i=a=>e[a].start;if(e.length<=o)return{startIndex:0,endIndex:r};let s=_t(0,r,i,t),l=s;if(o===1)for(;l<r&&e[l].end<t+n;)l++;else if(o>1){const a=Array(o).fill(0);for(;l<r&&a.some(d=>d<t+n);){const d=e[l];a[d.lane]=d.end,l++}const u=Array(o).fill(t+n);for(;s>=0&&u.some(d=>d>=t);){const d=e[s];u[d.lane]=d.start,s--}s=Math.max(0,s-s%o),l=Math.min(r,l+(o-1-l%o))}return{startIndex:s,endIndex:l}}const lt=typeof document<"u"?c.useLayoutEffect:c.useEffect;function qn(e){const n=c.useReducer(()=>({}),{})[1],t={...e,onChange:(r,i)=>{var s;i?Z.flushSync(n):n(),(s=e.onChange)==null||s.call(e,r,i)}},[o]=c.useState(()=>new Bn(t));return o.setOptions(t),lt(()=>o._didMount(),[]),lt(()=>o._willUpdate()),o}function Yn(e){return qn({observeElementRect:Wn,observeElementOffset:jn,scrollToFn:Hn,...e})}function at(e){if(e===null)return{width:0,height:0};let{width:n,height:t}=e.getBoundingClientRect();return{width:n,height:t}}function ut(e,n,t=!1){let[o,r]=c.useState(()=>at(n));return V(()=>{if(!n||!e)return;let i=oe();return i.requestAnimationFrame(function s(){i.requestAnimationFrame(s),r(l=>{let a=at(n);return a.width===l.width&&a.height===l.height?l:a})}),()=>{i.dispose()}},[n,e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}var Xe=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Xe||{});function Kn(e){let n=c.useRef(null),t=I(r=>{n.current=r.pointerType,!tt(r.currentTarget)&&r.pointerType==="mouse"&&r.button===Xe.Left&&(r.preventDefault(),e(r))}),o=I(r=>{n.current!=="mouse"&&(tt(r.currentTarget)||e(r))});return{onPointerDown:t,onClick:o}}let Lt=class extends Map{constructor(n){super(),this.factory=n}get(n){let t=super.get(n);return t===void 0&&(t=this.factory(n),this.set(n,t)),t}};var Gn=Object.defineProperty,Xn=(e,n,t)=>n in e?Gn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Jn=(e,n,t)=>(Xn(e,n+"",t),t),Nt=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)},Q=(e,n,t)=>(Nt(e,n,"read from private field"),t?t.call(e):n.get(e)),Fe=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},ct=(e,n,t,o)=>(Nt(e,n,"write to private field"),n.set(e,t),t),te,xe,Ee;let Wt=class{constructor(n){Fe(this,te,{}),Fe(this,xe,new Lt(()=>new Set)),Fe(this,Ee,new Set),Jn(this,"disposables",oe()),ct(this,te,n),Me.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Q(this,te)}subscribe(n,t){if(Me.isServer)return()=>{};let o={selector:n,callback:t,current:n(Q(this,te))};return Q(this,Ee).add(o),this.disposables.add(()=>{Q(this,Ee).delete(o)})}on(n,t){return Me.isServer?()=>{}:(Q(this,xe).get(n).add(t),this.disposables.add(()=>{Q(this,xe).get(n).delete(t)}))}send(n){let t=this.reduce(Q(this,te),n);if(t!==Q(this,te)){ct(this,te,t);for(let o of Q(this,Ee)){let r=o.selector(Q(this,te));jt(o.current,r)||(o.current=r,o.callback(r))}for(let o of Q(this,xe).get(n.type))o(Q(this,te),n)}}};te=new WeakMap,xe=new WeakMap,Ee=new WeakMap;function jt(e,n){return Object.is(e,n)?!0:typeof e!="object"||e===null||typeof n!="object"||n===null?!1:Array.isArray(e)&&Array.isArray(n)?e.length!==n.length?!1:Ae(e[Symbol.iterator](),n[Symbol.iterator]()):e instanceof Map&&n instanceof Map||e instanceof Set&&n instanceof Set?e.size!==n.size?!1:Ae(e.entries(),n.entries()):dt(e)&&dt(n)?Ae(Object.entries(e)[Symbol.iterator](),Object.entries(n)[Symbol.iterator]()):!1}function Ae(e,n){do{let t=e.next(),o=n.next();if(t.done&&o.done)return!0;if(t.done||o.done||!Object.is(t.value,o.value))return!1}while(!0)}function dt(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let n=Object.getPrototypeOf(e);return n===null||Object.getPrototypeOf(n)===null}var Qn=Object.defineProperty,Zn=(e,n,t)=>n in e?Qn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ft=(e,n,t)=>(Zn(e,typeof n!="symbol"?n+"":n,t),t),Vt=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Vt||{});let eo={0(e,n){let t=n.id,o=e.stack,r=e.stack.indexOf(t);if(r!==-1){let i=e.stack.slice();return i.splice(r,1),i.push(t),o=i,{...e,stack:o}}return{...e,stack:[...e.stack,t]}},1(e,n){let t=n.id,o=e.stack.indexOf(t);if(o===-1)return e;let r=e.stack.slice();return r.splice(o,1),{...e,stack:r}}},to=class Ht extends Wt{constructor(){super(...arguments),ft(this,"actions",{push:n=>this.send({type:0,id:n}),pop:n=>this.send({type:1,id:n})}),ft(this,"selectors",{isTop:(n,t)=>n.stack[n.stack.length-1]===t,inStack:(n,t)=>n.stack.includes(t)})}static new(){return new Ht({stack:[]})}reduce(n,t){return fe(t.type,eo,n,t)}};const Je=new Lt(()=>to.new());var De={exports:{}},ze={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt;function no(){if(pt)return ze;pt=1;var e=xn();function n(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var t=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,r=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return ze.useSyncExternalStoreWithSelector=function(a,u,d,m,h){var p=r(null);if(p.current===null){var f={hasValue:!1,value:null};p.current=f}else f=p.current;p=s(function(){function v(R){if(!S){if(S=!0,C=R,R=m(R),h!==void 0&&f.hasValue){var E=f.value;if(h(E,R))return b=E}return b=R}if(E=b,t(C,R))return E;var T=m(R);return h!==void 0&&h(E,T)?(C=R,E):(C=R,b=T)}var S=!1,C,b,w=d===void 0?null:d;return[function(){return v(u())},w===null?void 0:function(){return v(w())}]},[u,d,m,h]);var g=o(a,p[0],p[1]);return i(function(){f.hasValue=!0,f.value=g},[g]),l(g),g},ze}var ht;function oo(){return ht||(ht=1,De.exports=no()),De.exports}var ro=oo();function W(e,n,t=jt){return ro.useSyncExternalStoreWithSelector(I(o=>e.subscribe(io,o)),I(()=>e.state),I(()=>e.state),I(n),t)}function io(e){return e}function Bt(e,n){let t=c.useId(),o=Je.get(n),[r,i]=W(o,c.useCallback(s=>[o.selectors.isTop(s,t),o.selectors.inStack(s,t)],[o,t]));return V(()=>{if(e)return o.actions.push(t),()=>o.actions.pop(t)},[o,e,t]),e?i?r:!0:!1}let je=new Map,ye=new Map;function mt(e){var n;let t=(n=ye.get(e))!=null?n:0;return ye.set(e,t+1),t!==0?()=>gt(e):(je.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>gt(e))}function gt(e){var n;let t=(n=ye.get(e))!=null?n:1;if(t===1?ye.delete(e):ye.set(e,t-1),t!==1)return;let o=je.get(e);o&&(o["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",o["aria-hidden"]),e.inert=o.inert,je.delete(e))}function so(e,{allowed:n,disallowed:t}={}){let o=Bt(e,"inert-others");V(()=>{var r,i;if(!o)return;let s=oe();for(let a of(r=t?.())!=null?r:[])a&&s.add(mt(a));let l=(i=n?.())!=null?i:[];for(let a of l){if(!a)continue;let u=qe(a);if(!u)continue;let d=a.parentElement;for(;d&&d!==u.body;){for(let m of d.children)l.some(h=>m.contains(h))||s.add(mt(m));d=d.parentElement}}return s.dispose},[o,n,t])}function lo(e,n,t){let o=ge(r=>{let i=r.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&t()});c.useEffect(()=>{if(!e)return;let r=n===null?null:Ye(n)?n:n.current;if(!r)return;let i=oe();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>o.current(r));s.observe(r),i.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>o.current(r));s.observe(r),i.add(()=>s.disconnect())}return()=>i.dispose()},[n,o,e])}function Ut(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ao(){return/Android/gi.test(window.navigator.userAgent)}function Ve(){return Ut()||ao()}function me(e,n,t,o){let r=ge(t);c.useEffect(()=>{if(!e)return;function i(s){r.current(s)}return document.addEventListener(n,i,o),()=>document.removeEventListener(n,i,o)},[e,n,o])}function uo(e,n,t,o){let r=ge(t);c.useEffect(()=>{if(!e)return;function i(s){r.current(s)}return window.addEventListener(n,i,o),()=>window.removeEventListener(n,i,o)},[e,n,o])}const vt=30;function co(e,n,t){let o=ge(t),r=c.useCallback(function(l,a){if(l.defaultPrevented)return;let u=a(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=(function m(h){return typeof h=="function"?m(h()):Array.isArray(h)||h instanceof Set?h:[h]})(n);for(let m of d)if(m!==null&&(m.contains(u)||l.composed&&l.composedPath().includes(m)))return;return!Cn(u,wn.Loose)&&u.tabIndex!==-1&&l.preventDefault(),o.current(l,u)},[o,n]),i=c.useRef(null);me(e,"pointerdown",l=>{var a,u;Ve()||(i.current=((u=(a=l.composedPath)==null?void 0:a.call(l))==null?void 0:u[0])||l.target)},!0),me(e,"pointerup",l=>{if(Ve()||!i.current)return;let a=i.current;return i.current=null,r(l,()=>a)},!0);let s=c.useRef({x:0,y:0});me(e,"touchstart",l=>{s.current.x=l.touches[0].clientX,s.current.y=l.touches[0].clientY},!0),me(e,"touchend",l=>{let a={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(a.x-s.current.x)>=vt||Math.abs(a.y-s.current.y)>=vt))return r(l,()=>ce(l.target)?l.target:null)},!0),uo(e,"blur",l=>r(l,()=>sn(window.document.activeElement)?window.document.activeElement:null),!0)}function He(...e){return c.useMemo(()=>qe(...e),[...e])}var fo=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(fo||{});const be={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},po=200,bt=5;function ho(e,{trigger:n,action:t,close:o,select:r}){let i=c.useRef(null),s=c.useRef(null),l=c.useRef(null);me(e&&n!==null,"pointerdown",a=>{ln(a?.target)&&n!=null&&n.contains(a.target)&&(s.current=a.x,l.current=a.y,i.current=a.timeStamp)}),me(e&&n!==null,"pointerup",a=>{var u,d;let m=i.current;if(m===null||(i.current=null,!ce(a.target))||Math.abs(a.x-((u=s.current)!=null?u:a.x))<bt&&Math.abs(a.y-((d=l.current)!=null?d:a.y))<bt)return;let h=t(a);switch(h.kind){case 0:return;case 1:{a.timeStamp-m>po&&(r(h.target),o());break}case 2:{o();break}}},{capture:!0})}function mo(e,n,t,o){let r=ge(t);c.useEffect(()=>{e=e??window;function i(s){r.current(s)}return e.addEventListener(n,i,o),()=>e.removeEventListener(n,i,o)},[e,n,o])}function qt(e){let n=c.useRef({value:"",selectionStart:null,selectionEnd:null});return mo(e,"blur",t=>{let o=t.target;We(o)&&(n.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),I(()=>{if(!Ft(e)&&We(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==n.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:o}=n.current;t!==null&&o!==null&&e.setSelectionRange(t,o)}n.current={value:"",selectionStart:null,selectionEnd:null}}})}function go(e){return c.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function vo(e,n){let t=e(),o=new Set;return{getSnapshot(){return t},subscribe(r){return o.add(r),()=>o.delete(r)},dispatch(r,...i){let s=n[r].call(t,...i);s&&(t=s,o.forEach(l=>l()))}}}function bo(){let e;return{before({doc:n}){var t;let o=n.documentElement,r=(t=n.defaultView)!=null?t:window;e=Math.max(0,r.innerWidth-o.clientWidth)},after({doc:n,d:t}){let o=n.documentElement,r=Math.max(0,o.clientWidth-o.offsetWidth),i=Math.max(0,e-r);t.style(o,"paddingRight",`${i}px`)}}}function xo(){return Ut()?{before({doc:e,d:n,meta:t}){function o(r){for(let i of t().containers)for(let s of i())if(s.contains(r))return!0;return!1}n.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=oe();l.style(e.documentElement,"scrollBehavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}let i=(r=window.scrollY)!=null?r:window.pageYOffset,s=null;n.addEventListener(e,"click",l=>{if(ce(l.target))try{let a=l.target.closest("a");if(!a)return;let{hash:u}=new URL(a.href),d=e.querySelector(u);ce(d)&&!o(d)&&(s=d)}catch{}},!0),n.group(l=>{n.addEventListener(e,"touchstart",a=>{if(l.dispose(),ce(a.target)&&an(a.target))if(o(a.target)){let u=a.target;for(;u.parentElement&&o(u.parentElement);)u=u.parentElement;l.style(u,"overscrollBehavior","contain")}else l.style(a.target,"touchAction","none")})}),n.addEventListener(e,"touchmove",l=>{if(ce(l.target)){if(We(l.target))return;if(o(l.target)){let a=l.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),n.add(()=>{var l;let a=(l=window.scrollY)!=null?l:window.pageYOffset;i!==a&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Eo(){return{before({doc:e,d:n}){n.style(e.documentElement,"overflow","hidden")}}}function xt(e){let n={};for(let t of e)Object.assign(n,t(n));return n}let de=vo(()=>new Map,{PUSH(e,n){var t;let o=(t=this.get(e))!=null?t:{doc:e,count:0,d:oe(),meta:new Set,computedMeta:{}};return o.count++,o.meta.add(n),o.computedMeta=xt(o.meta),this.set(e,o),this},POP(e,n){let t=this.get(e);return t&&(t.count--,t.meta.delete(n),t.computedMeta=xt(t.meta)),this},SCROLL_PREVENT(e){let n={doc:e.doc,d:e.d,meta(){return e.computedMeta}},t=[xo(),bo(),Eo()];t.forEach(({before:o})=>o?.(n)),t.forEach(({after:o})=>o?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});de.subscribe(()=>{let e=de.getSnapshot(),n=new Map;for(let[t]of e)n.set(t,t.documentElement.style.overflow);for(let t of e.values()){let o=n.get(t.doc)==="hidden",r=t.count!==0;(r&&!o||!r&&o)&&de.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&de.dispatch("TEARDOWN",t)}});function So(e,n,t=()=>({containers:[]})){let o=go(de),r=n?o.get(n):void 0,i=r?r.count>0:!1;return V(()=>{if(!(!n||!e))return de.dispatch("PUSH",n,t),()=>de.dispatch("POP",n,t)},[e,n]),i}function yo(e,n,t=()=>[document.body]){let o=Bt(e,"scroll-lock");So(o,n,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],t]}})}function Et(e){return[e.screenX,e.screenY]}function Co(){let e=c.useRef([-1,-1]);return{wasMoved(n){let t=Et(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=Et(n)}}}function wo(e=0){let[n,t]=c.useState(e),o=c.useCallback(a=>t(a),[]),r=c.useCallback(a=>t(u=>u|a),[]),i=c.useCallback(a=>(n&a)===a,[n]),s=c.useCallback(a=>t(u=>u&~a),[]),l=c.useCallback(a=>t(u=>u^a),[]);return{flags:n,setFlag:o,addFlag:r,hasFlag:i,removeFlag:s,toggleFlag:l}}var Oo={},St,yt;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((St=process==null?void 0:Oo)==null?void 0:St.NODE_ENV)==="test"&&typeof((yt=Element?.prototype)==null?void 0:yt.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Ro=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Ro||{});function $o(e){let n={};for(let t in e)e[t]===!0&&(n[`data-${t}`]="");return n}function Io(e,n,t,o){let[r,i]=c.useState(t),{hasFlag:s,addFlag:l,removeFlag:a}=wo(e&&r?3:0),u=c.useRef(!1),d=c.useRef(!1),m=Te();return V(()=>{var h;if(e){if(t&&i(!0),!n){t&&l(3);return}return(h=void 0)==null||h.call(o,t),Mo(n,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(t?(l(3),a(4)):(l(4),a(2)))},run(){d.current?t?(a(3),l(4)):(a(4),l(3)):t?a(1):l(1)},done(){var p;d.current&&ko(n)||(u.current=!1,a(7),t||i(!1),(p=void 0)==null||p.call(o,t))}})}},[e,t,n,m]),e?[r,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Mo(e,{prepare:n,run:t,done:o,inFlight:r}){let i=oe();return Po(e,{prepare:n,inFlight:r}),i.nextFrame(()=>{t(),i.requestAnimationFrame(()=>{i.add(To(e,o))})}),i.dispose}function To(e,n){var t,o;let r=oe();if(!e)return r.dispose;let i=!1;r.add(()=>{i=!0});let s=(o=(t=e.getAnimations)==null?void 0:t.call(e).filter(l=>l instanceof CSSTransition))!=null?o:[];return s.length===0?(n(),r.dispose):(Promise.allSettled(s.map(l=>l.finished)).then(()=>{i||n()}),r.dispose)}function Po(e,{inFlight:n,prepare:t}){if(n!=null&&n.current){t();return}let o=e.style.transition;e.style.transition="none",t(),e.offsetHeight,e.style.transition=o}function ko(e){var n,t;return((t=(n=e.getAnimations)==null?void 0:n.call(e))!=null?t:[]).some(o=>o instanceof CSSTransition&&o.playState!=="finished")}function Fo(e,{container:n,accept:t,walk:o}){let r=c.useRef(t),i=c.useRef(o);c.useEffect(()=>{r.current=t,i.current=o},[t,o]),V(()=>{if(!n||!e)return;let s=qe(n);if(!s)return;let l=r.current,a=i.current,u=Object.assign(m=>l(m),{acceptNode:l}),d=s.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)a(d.currentNode)},[n,e,r,i])}function Ct(e,n){let t=c.useRef([]),o=I(e);c.useEffect(()=>{let r=[...t.current];for(let[i,s]of n.entries())if(t.current[i]!==s){let l=o(n,r);return t.current=n,l}},[o,...n])}function Ao(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(n=>{let{brand:t,version:o}=n;return t+"/"+o}).join(" "):navigator.userAgent}const Yt={...En},Do=Yt.useInsertionEffect,zo=Do||(e=>e());function Kt(e){const n=c.useRef(()=>{});return zo(()=>{n.current=e}),c.useCallback(function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n.current==null?void 0:n.current(...o)},[])}var Be=typeof document<"u"?c.useLayoutEffect:c.useEffect;let wt=!1,_o=0;const Ot=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_o++;function Lo(){const[e,n]=c.useState(()=>wt?Ot():void 0);return Be(()=>{e==null&&n(Ot())},[]),c.useEffect(()=>{wt=!0},[]),e}const No=Yt.useId,Wo=No||Lo;function jo(){const e=new Map;return{emit(n,t){var o;(o=e.get(n))==null||o.forEach(r=>r(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var o;e.set(n,((o=e.get(n))==null?void 0:o.filter(r=>r!==t))||[])}}}const Vo=c.createContext(null),Ho=c.createContext(null),Bo=()=>{var e;return((e=c.useContext(Vo))==null?void 0:e.id)||null},Uo=()=>c.useContext(Ho),qo="data-floating-ui-focusable";function Yo(e){const{open:n=!1,onOpenChange:t,elements:o}=e,r=Wo(),i=c.useRef({}),[s]=c.useState(()=>jo()),l=Bo()!=null,[a,u]=c.useState(o.reference),d=Kt((p,f,g)=>{i.current.openEvent=p?f:void 0,s.emit("openchange",{open:p,event:f,reason:g,nested:l}),t?.(p,f,g)}),m=c.useMemo(()=>({setPositionReference:u}),[]),h=c.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return c.useMemo(()=>({dataRef:i,open:n,onOpenChange:d,elements:h,events:s,floatingId:r,refs:m}),[n,d,h,s,r,m])}function Ko(e){e===void 0&&(e={});const{nodeId:n}=e,t=Yo({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||t,r=o.elements,[i,s]=c.useState(null),[l,a]=c.useState(null),d=r?.domReference||i,m=c.useRef(null),h=Uo();Be(()=>{d&&(m.current=d)},[d]);const p=In({...e,elements:{...r,...l&&{reference:l}}}),f=c.useCallback(b=>{const w=Ie(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;a(w),p.refs.setReference(w)},[p.refs]),g=c.useCallback(b=>{(Ie(b)||b===null)&&(m.current=b,s(b)),(Ie(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!Ie(b))&&p.refs.setReference(b)},[p.refs]),v=c.useMemo(()=>({...p.refs,setReference:g,setPositionReference:f,domReference:m}),[p.refs,g,f]),S=c.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),C=c.useMemo(()=>({...p,...o,refs:v,elements:S,nodeId:n}),[p,v,S,n,o]);return Be(()=>{o.dataRef.current.floatingContext=C;const b=h?.nodesRef.current.find(w=>w.id===n);b&&(b.context=C)}),c.useMemo(()=>({...p,context:C,refs:v,elements:S}),[p,v,S,C])}const Rt="active",$t="selected";function _e(e,n,t){const o=new Map,r=t==="item";let i=e;if(r&&e){const{[Rt]:s,[$t]:l,...a}=e;i=a}return{...t==="floating"&&{tabIndex:-1,[qo]:""},...i,...n.map(s=>{const l=s?s[t]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((s,l)=>(l&&Object.entries(l).forEach(a=>{let[u,d]=a;if(!(r&&[Rt,$t].includes(u)))if(u.indexOf("on")===0){if(o.has(u)||o.set(u,[]),typeof d=="function"){var m;(m=o.get(u))==null||m.push(d),s[u]=function(){for(var h,p=arguments.length,f=new Array(p),g=0;g<p;g++)f[g]=arguments[g];return(h=o.get(u))==null?void 0:h.map(v=>v(...f)).find(v=>v!==void 0)}}}else s[u]=d}),s),{})}}function Go(e){e===void 0&&(e=[]);const n=e.map(l=>l?.reference),t=e.map(l=>l?.floating),o=e.map(l=>l?.item),r=c.useCallback(l=>_e(l,e,"reference"),n),i=c.useCallback(l=>_e(l,e,"floating"),t),s=c.useCallback(l=>_e(l,e,"item"),o);return c.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function It(e,n){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:n}}}}const Xo=e=>({name:"inner",options:e,async fn(n){const{listRef:t,overflowRef:o,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:a=0,scrollRef:u,...d}=Mn(e,n),{rects:m,elements:{floating:h}}=n,p=t.current[s],f=u?.current||h,g=h.clientTop||f.clientTop,v=h.clientTop!==0,S=f.clientTop!==0,C=h===f;if(!p)return{};const b={...n,...await zt(-p.offsetTop-h.clientTop-m.reference.height/2-p.offsetHeight/2-i).fn(n)},w=await Pe(It(b,f.scrollHeight+g+h.clientTop),d),R=await Pe(b,{...d,elementContext:"reference"}),E=ke(0,w.top),T=b.y+E,q=(f.scrollHeight>f.clientHeight?k=>k:Tn)(ke(0,f.scrollHeight+(v&&C||S?g*2:0)-E-ke(0,w.bottom)));if(f.style.maxHeight=q+"px",f.scrollTop=E,r){const k=f.offsetHeight<p.offsetHeight*Pn(l,t.current.length)-1||R.top>=-a||R.bottom>=-a;Z.flushSync(()=>r(k))}return o&&(o.current=await Pe(It({...b,y:T},f.offsetHeight+g+h.clientTop),d)),{y:T}}});function Jo(e,n){const{open:t,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:s,onChange:l}=n,a=Kt(l),u=c.useRef(!1),d=c.useRef(null),m=c.useRef(null);c.useEffect(()=>{if(!r)return;function p(g){if(g.ctrlKey||!f||i.current==null)return;const v=g.deltaY,S=i.current.top>=-.5,C=i.current.bottom>=-.5,b=f.scrollHeight-f.clientHeight,w=v<0?-1:1,R=v<0?"max":"min";f.scrollHeight<=f.clientHeight||(!S&&v>0||!C&&v<0?(g.preventDefault(),Z.flushSync(()=>{a(E=>E+Math[R](v,b*w))})):/firefox/i.test(Ao())&&(f.scrollTop+=v))}const f=s?.current||o.floating;if(t&&f)return f.addEventListener("wheel",p),requestAnimationFrame(()=>{d.current=f.scrollTop,i.current!=null&&(m.current={...i.current})}),()=>{d.current=null,m.current=null,f.removeEventListener("wheel",p)}},[r,t,o.floating,i,s,a]);const h=c.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const p=s?.current||o.floating;if(!(!i.current||!p||!u.current)){if(d.current!==null){const f=p.scrollTop-d.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&Z.flushSync(()=>a(g=>g+f))}requestAnimationFrame(()=>{d.current=p.scrollTop})}}}),[o.floating,a,i,s]);return c.useMemo(()=>r?{floating:h}:{},[r,h])}let Re=c.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Re.displayName="FloatingContext";let Qe=c.createContext(null);Qe.displayName="PlacementContext";function Qo(e){return c.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Zo(){return c.useContext(Re).setReference}function er(){let{getFloatingProps:e,slot:n}=c.useContext(Re);return c.useCallback((...t)=>Object.assign({},e(...t),{"data-anchor":n.anchor}),[e,n])}function tr(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let n=c.useContext(Qe),t=c.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var s;return(s=i?.outerHTML)!=null?s:i})]);V(()=>{n?.(t??null)},[n,t]);let o=c.useContext(Re);return c.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let Mt=4;function nr({children:e,enabled:n=!0}){let[t,o]=c.useState(null),[r,i]=c.useState(0),s=c.useRef(null),[l,a]=c.useState(null);or(l);let u=n&&t!==null&&l!==null,{to:d="bottom",gap:m=0,offset:h=0,padding:p=0,inner:f}=rr(t,l),[g,v="center"]=d.split(" ");V(()=>{u&&i(0)},[u]);let{refs:S,floatingStyles:C,context:b}=Ko({open:u,placement:g==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${g}`:`${g}-${v}`,strategy:"absolute",transform:!1,middleware:[zt({mainAxis:g==="selection"?0:m,crossAxis:h}),kn({padding:p}),g!=="selection"&&Fn({padding:p}),g==="selection"&&f?Xo({...f,padding:p,overflowRef:s,offset:r,minItemsVisible:Mt,referenceOverflowThreshold:p,onFallbackChange(k){var O,_;if(!k)return;let z=b.elements.floating;if(!z)return;let $=parseFloat(getComputedStyle(z).scrollPaddingBottom)||0,H=Math.min(Mt,z.childElementCount),re=0,ee=0;for(let K of(_=(O=b.elements.floating)==null?void 0:O.childNodes)!=null?_:[])if(Ye(K)){let G=K.offsetTop,ie=G+K.clientHeight+$,x=z.scrollTop,B=x+z.clientHeight;if(G>=x&&ie<=B)H--;else{ee=Math.max(0,Math.min(ie,B)-Math.max(G,x)),re=K.clientHeight;break}}H>=1&&i(K=>{let G=re*H-ee+$;return K>=G?K:G})}}):null,An({padding:p,apply({availableWidth:k,availableHeight:O,elements:_}){Object.assign(_.floating.style,{overflow:"auto",maxWidth:`${k}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${O}px)`})}})].filter(Boolean),whileElementsMounted:Dn}),[w=g,R=v]=b.placement.split("-");g==="selection"&&(w="selection");let E=c.useMemo(()=>({anchor:[w,R].filter(Boolean).join(" ")}),[w,R]),T=Jo(b,{overflowRef:s,onChange:i}),{getReferenceProps:P,getFloatingProps:L}=Go([T]),q=I(k=>{a(k),S.setFloating(k)});return c.createElement(Qe.Provider,{value:o},c.createElement(Re.Provider,{value:{setFloating:q,setReference:S.setReference,styles:C,getReferenceProps:P,getFloatingProps:L,slot:E}},e))}function or(e){V(()=>{if(!e)return;let n=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,o=parseFloat(t);if(isNaN(o))return;let r=parseInt(t);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return n.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{n.disconnect()}},[e])}function rr(e,n){var t,o,r;let i=Le((t=e?.gap)!=null?t:"var(--anchor-gap, 0)",n),s=Le((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",n),l=Le((r=e?.padding)!=null?r:"var(--anchor-padding, 0)",n);return{...e,gap:i,offset:s,padding:l}}function Le(e,n,t=void 0){let o=Te(),r=I((a,u)=>{if(a==null)return[t,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!u)return[t,null];let d=Tt(a,u);return[d,m=>{let h=Gt(a);{let p=h.map(f=>window.getComputedStyle(u).getPropertyValue(f));o.requestAnimationFrame(function f(){o.nextFrame(f);let g=!1;for(let[S,C]of h.entries()){let b=window.getComputedStyle(u).getPropertyValue(C);if(p[S]!==b){p[S]=b,g=!0;break}}if(!g)return;let v=Tt(a,u);d!==v&&(m(v),d=v)})}return o.dispose}]}return[t,null]}),i=c.useMemo(()=>r(e,n)[0],[e,n]),[s=i,l]=c.useState();return V(()=>{let[a,u]=r(e,n);if(l(a),!!u)return u(l)},[e,n]),s}function Gt(e){let n=/var\((.*)\)/.exec(e);if(n){let t=n[1].indexOf(",");if(t===-1)return[n[1]];let o=n[1].slice(0,t).trim(),r=n[1].slice(t+1).trim();return r?[o,...Gt(r)]:[o]}return[]}function Tt(e,n){let t=document.createElement("div");n.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(t).marginTop)||0;return n.removeChild(t),o}function ir({children:e,freeze:n},t){let o=Ue(n,e);return c.isValidElement(o)?c.cloneElement(o,{ref:t}):A.createElement(A.Fragment,null,o)}const sr=A.forwardRef(ir);function Ue(e,n){let[t,o]=c.useState(n);return!e&&t!==n&&o(n),e?t:n}let Ze=c.createContext(null);Ze.displayName="OpenClosedContext";var Ce=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ce||{});function lr(){return c.useContext(Ze)}function ar({value:e,children:n}){return A.createElement(Ze.Provider,{value:e},n)}function ur(e){function n(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let ue=[];ur(()=>{function e(n){if(!ce(n.target)||n.target===document.body||ue[0]===n.target)return;let t=n.target;t=t.closest(On),ue.unshift(t??n.target),ue=ue.filter(o=>o!=null&&o.isConnected),ue.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function cr(e){throw new Error("Unexpected object: "+e)}var N=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(N||{});function Pt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 1:{r===-1&&(r=t.length);for(let i=r-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 2:{for(let i=r+1;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 3:{for(let i=t.length-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 4:{for(let i=0;i<t.length;++i)if(n.resolveId(t[i],i,t)===e.id)return i;return o}case 5:return null;default:cr(e)}}function Xt(e){let n=I(e),t=c.useRef(!1);c.useEffect(()=>(t.current=!1,()=>{t.current=!0,un(()=>{t.current&&n()})}),[n])}let dr=c.createContext(!1);function fr(){return c.useContext(dr)}function pr(e){let n=fr(),t=c.useContext(Qt),[o,r]=c.useState(()=>{var i;if(!n&&t!==null)return(i=t.current)!=null?i:null;if(Me.isServer)return null;let s=e?.getElementById("headlessui-portal-root");if(s)return s;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return c.useEffect(()=>{o!==null&&(e!=null&&e.body.contains(o)||e==null||e.body.appendChild(o))},[o,e]),c.useEffect(()=>{n||t!==null&&r(t.current)},[t,r,n]),o}let Jt=c.Fragment,hr=se(function(e,n){let{ownerDocument:t=null,...o}=e,r=c.useRef(null),i=pe(cn(h=>{r.current=h}),n),s=He(r.current),l=t??s,a=pr(l),u=c.useContext(br),d=Te(),m=le();return Xt(()=>{var h;a&&a.childNodes.length<=0&&((h=a.parentElement)==null||h.removeChild(a))}),a?Z.createPortal(A.createElement("div",{"data-headlessui-portal":"",ref:h=>{d.dispose(),u&&h&&d.add(u.register(h))}},m({ourProps:{ref:i},theirProps:o,slot:{},defaultTag:Jt,name:"Portal"})),a):null});function mr(e,n){let t=pe(n),{enabled:o=!0,ownerDocument:r,...i}=e,s=le();return o?A.createElement(hr,{...i,ownerDocument:r,ref:t}):s({ourProps:{ref:t},theirProps:i,slot:{},defaultTag:Jt,name:"Portal"})}let gr=c.Fragment,Qt=c.createContext(null);function vr(e,n){let{target:t,...o}=e,r={ref:pe(n)},i=le();return A.createElement(Qt.Provider,{value:t},i({ourProps:r,theirProps:o,defaultTag:gr,name:"Popover.Group"}))}let br=c.createContext(null),xr=se(mr),Er=se(vr),Sr=Object.assign(xr,{Group:Er});const Se={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Zt(e){let n=e.getBoundingClientRect();return`${n.x},${n.y}`}function yr(e,n,t){let o=oe();if(n.kind==="Tracked"){let r=function(){i!==Zt(e)&&(o.dispose(),t())},{position:i}=n,s=new ResizeObserver(r);s.observe(e),o.add(()=>s.disconnect()),o.addEventListener(window,"scroll",r,{passive:!0}),o.addEventListener(window,"resize",r)}return()=>o.dispose()}var Cr=Object.defineProperty,wr=(e,n,t)=>n in e?Cr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,kt=(e,n,t)=>(wr(e,typeof n!="symbol"?n+"":n,t),t),y=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(y||{}),J=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(J||{}),ne=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ne||{}),en=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e[e.MarkInputAsMoved=12]="MarkInputAsMoved",e))(en||{});function Ne(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=n(e.options.slice()),r=o.length>0&&o[0].dataRef.current.order!==null?o.sort((s,l)=>s.dataRef.current.order-l.dataRef.current.order):Rn(o,s=>s.dataRef.current.domRef.current),i=t?r.indexOf(t):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Or={1(e){var n;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===1)return e;let t=e.inputElement?Se.Tracked(Zt(e.inputElement)):e.inputPositionState;return{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:t,__demoMode:!1}},0(e){var n,t;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let o=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(o!==-1)return{...e,activeOptionIndex:o,comboboxState:0,__demoMode:!1,inputPositionState:Se.Idle}}return{...e,comboboxState:0,inputPositionState:Se.Idle,__demoMode:!1}},3(e,n){return e.isTyping===n.isTyping?e:{...e,isTyping:n.isTyping}},2(e,n){var t,o,r,i;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:d}=e.virtual,m=n.focus===N.Specific?n.idx:Pt(n,{resolveItems:()=>u,resolveActiveIndex:()=>{var p,f;return(f=(p=e.activeOptionIndex)!=null?p:u.findIndex(g=>!d(g)))!=null?f:null},resolveDisabled:d,resolveId(){throw new Error("Function not implemented.")}}),h=(r=n.trigger)!=null?r:2;return e.activeOptionIndex===m&&e.activationTrigger===h?e:{...e,activeOptionIndex:m,activationTrigger:h,isTyping:!1,__demoMode:!1}}let s=Ne(e);if(s.activeOptionIndex===null){let u=s.options.findIndex(d=>!d.dataRef.current.disabled);u!==-1&&(s.activeOptionIndex=u)}let l=n.focus===N.Specific?n.idx:Pt(n,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),a=(i=n.trigger)!=null?i:2;return e.activeOptionIndex===l&&e.activationTrigger===a?e:{...e,...s,isTyping:!1,activeOptionIndex:l,activationTrigger:a,__demoMode:!1}},4:(e,n)=>{var t,o,r,i;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,n.payload]};let s=n.payload,l=Ne(e,u=>(u.push(s),u));e.activeOptionIndex===null&&(r=(o=e.dataRef.current).isSelected)!=null&&r.call(o,n.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(s));let a={...e,...l,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},5:(e,n)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(r=>r.id!==n.id)};let o=Ne(e,r=>{let i=r.findIndex(s=>s.id===n.id);return i!==-1&&r.splice(i,1),r});return{...e,...o,activationTrigger:2}},6:(e,n)=>e.defaultToFirstOption===n.value?e:{...e,defaultToFirstOption:n.value},7:(e,n)=>e.activationTrigger===n.trigger?e:{...e,activationTrigger:n.trigger},8:(e,n)=>{var t,o;if(e.virtual===null)return{...e,virtual:{options:n.options,disabled:(t=n.disabled)!=null?t:()=>!1}};if(e.virtual.options===n.options&&e.virtual.disabled===n.disabled)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=n.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?r=i:r=null}return{...e,activeOptionIndex:r,virtual:{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}}},9:(e,n)=>e.inputElement===n.element?e:{...e,inputElement:n.element},10:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},11:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},12(e){return e.inputPositionState.kind!=="Tracked"?e:{...e,inputPositionState:Se.Moved}}};class et extends Wt{constructor(n){super(n),kt(this,"actions",{onChange:t=>{let{onChange:o,compare:r,mode:i,value:s}=this.state.dataRef.current;return fe(i,{0:()=>o?.(t),1:()=>{let l=s.slice(),a=l.findIndex(u=>r(u,t));return a===-1?l.push(t):l.splice(a,1),o?.(l)}})},registerOption:(t,o)=>(this.send({type:4,payload:{id:t,dataRef:o}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(o.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:t})}),goToOption:(t,o)=>(this.send({type:6,value:!1}),this.send({type:2,...t,trigger:o})),setIsTyping:t=>{this.send({type:3,isTyping:t})},closeCombobox:()=>{var t,o;this.send({type:1}),this.send({type:6,value:!1}),(o=(t=this.state.dataRef.current).onClose)==null||o.call(t)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:t=>{this.send({type:7,trigger:t})},selectActiveOption:()=>{let t=this.selectors.activeOptionIndex(this.state);if(t!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[t]);else{let{dataRef:o}=this.state.options[t];this.actions.onChange(o.current.value)}this.actions.goToOption({focus:N.Specific,idx:t})}},setInputElement:t=>{this.send({type:9,element:t})},setButtonElement:t=>{this.send({type:10,element:t})},setOptionsElement:t=>{this.send({type:11,element:t})}}),kt(this,"selectors",{activeDescendantId:t=>{var o,r;let i=this.selectors.activeOptionIndex(t);if(i!==null)return t.virtual?(r=t.options.find(s=>!s.dataRef.current.disabled&&t.dataRef.current.compare(s.dataRef.current.value,t.virtual.options[i])))==null?void 0:r.id:(o=t.options[i])==null?void 0:o.id},activeOptionIndex:t=>{if(t.defaultToFirstOption&&t.activeOptionIndex===null&&(t.virtual?t.virtual.options.length>0:t.options.length>0)){if(t.virtual){let{options:r,disabled:i}=t.virtual,s=r.findIndex(l=>{var a;return!((a=i?.(l))!=null&&a)});if(s!==-1)return s}let o=t.options.findIndex(r=>!r.dataRef.current.disabled);if(o!==-1)return o}return t.activeOptionIndex},activeOption:t=>{var o,r;let i=this.selectors.activeOptionIndex(t);return i===null?null:t.virtual?t.virtual.options[i??0]:(r=(o=t.options[i])==null?void 0:o.dataRef.current.value)!=null?r:null},isActive:(t,o,r)=>{var i;let s=this.selectors.activeOptionIndex(t);return s===null?!1:t.virtual?s===t.dataRef.current.calculateIndex(o):((i=t.options[s])==null?void 0:i.id)===r},shouldScrollIntoView:(t,o,r)=>!(t.virtual||t.__demoMode||t.comboboxState!==0||t.activationTrigger===0||!this.selectors.isActive(t,o,r)),didInputMove(t){return t.inputPositionState.kind==="Moved"}});{let t=this.state.id,o=Je.get(null);this.disposables.add(o.on(Vt.Push,r=>{!o.selectors.isTop(r,t)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>o.actions.push(t)),this.on(1,()=>o.actions.pop(t))}this.disposables.group(t=>{this.on(1,o=>{o.inputElement&&(t.dispose(),t.add(yr(o.inputElement,o.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:n,virtual:t=null,__demoMode:o=!1}){var r;return new et({id:n,dataRef:{current:{}},comboboxState:o?0:1,isTyping:!1,options:[],virtual:t?{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:o,inputPositionState:Se.Idle})}reduce(n,t){return fe(t.type,Or,n,t)}}const tn=c.createContext(null);function $e(e){let n=c.useContext(tn);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,nn),t}return n}function nn({id:e,virtual:n=null,__demoMode:t=!1}){let o=c.useMemo(()=>et.new({id:e,virtual:n,__demoMode:t}),[]);return Xt(()=>o.dispose()),o}let we=c.createContext(null);we.displayName="ComboboxDataContext";function ve(e){let n=c.useContext(we);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ve),t}return n}let on=c.createContext(null);function Rr(e){let n=$e("VirtualProvider"),t=ve("VirtualProvider"),{options:o}=t.virtual,r=W(n,p=>p.optionsElement),[i,s]=c.useMemo(()=>{let p=r;if(!p)return[0,0];let f=window.getComputedStyle(p);return[parseFloat(f.paddingBlockStart||f.paddingTop),parseFloat(f.paddingBlockEnd||f.paddingBottom)]},[r]),l=Yn({enabled:o.length!==0,scrollPaddingStart:i,scrollPaddingEnd:s,count:o.length,estimateSize(){return 40},getScrollElement(){return n.state.optionsElement},overscan:12}),[a,u]=c.useState(0);V(()=>{u(p=>p+1)},[o]);let d=l.getVirtualItems(),m=W(n,p=>p.activationTrigger===ne.Pointer),h=W(n,n.selectors.activeOptionIndex);return d.length===0?null:A.createElement(on.Provider,{value:l},A.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:p=>{p&&(m||h!==null&&o.length>h&&l.scrollToIndex(h))}},d.map(p=>{var f;return A.createElement(c.Fragment,{key:p.key},A.cloneElement((f=e.children)==null?void 0:f.call(e,{...e.slot,option:o[p.index]}),{key:`${a}-${p.key}`,"data-index":p.index,"aria-setsize":o.length,"aria-posinset":p.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${p.start}px)`,overflowAnchor:"none"}}))})))}let $r=c.Fragment;function Ir(e,n){let t=c.useId(),o=hn(),{value:r,defaultValue:i,onChange:s,form:l,name:a,by:u,invalid:d=!1,disabled:m=o||!1,onClose:h,__demoMode:p=!1,multiple:f=!1,immediate:g=!1,virtual:v=null,nullable:S,...C}=e,b=mn(i),[w=f?[]:void 0,R]=gn(r,s,b),E=nn({id:t,virtual:v,__demoMode:p}),T=c.useRef({static:!1,hold:!1}),P=$n(u),L=I(M=>v?u===null?v.options.indexOf(M):v.options.findIndex(ae=>P(ae,M)):E.state.options.findIndex(ae=>P(ae.dataRef.current.value,M))),q=c.useCallback(M=>fe(_.mode,{[J.Multi]:()=>w.some(ae=>P(ae,M)),[J.Single]:()=>P(w,M)}),[w]),k=W(E,M=>M.virtual),O=I(()=>h?.()),_=c.useMemo(()=>({__demoMode:p,immediate:g,optionsPropsRef:T,value:w,defaultValue:b,disabled:m,invalid:d,mode:f?J.Multi:J.Single,virtual:v?k:null,onChange:R,isSelected:q,calculateIndex:L,compare:P,onClose:O}),[p,g,T,w,b,m,d,f,v,k,R,q,L,P,O]);V(()=>{var M;v&&E.send({type:en.UpdateVirtualConfiguration,options:v.options,disabled:(M=v.disabled)!=null?M:null})},[v,v?.options,v?.disabled]),V(()=>{E.state.dataRef.current=_},[_]);let[z,$,H,re]=W(E,M=>[M.comboboxState,M.buttonElement,M.inputElement,M.optionsElement]),ee=Je.get(null),K=W(ee,c.useCallback(M=>ee.selectors.isTop(M,t),[ee,t]));co(K,[$,H,re],()=>E.actions.closeCombobox());let G=W(E,E.selectors.activeOptionIndex),ie=W(E,E.selectors.activeOption),x=Oe({open:z===y.Open,disabled:m,invalid:d,activeIndex:G,activeOption:ie,value:w}),[B,D]=vn(),U=n===null?{}:{ref:n},F=c.useCallback(()=>{if(b!==void 0)return R?.(b)},[R,b]),Y=le();return A.createElement(D,{value:B,props:{htmlFor:H?.id},slot:{open:z===y.Open,disabled:m}},A.createElement(nr,null,A.createElement(we.Provider,{value:_},A.createElement(tn.Provider,{value:E},A.createElement(ar,{value:fe(z,{[y.Open]:Ce.Open,[y.Closed]:Ce.Closed})},a!=null&&A.createElement(bn,{disabled:m,data:w!=null?{[a]:w}:{},form:l,onReset:F}),Y({ourProps:U,theirProps:C,slot:x,defaultTag:$r,name:"Combobox"}))))))}let Mr="input";function Tr(e,n){var t,o;let r=$e("Combobox.Input"),i=ve("Combobox.Input"),s=c.useId(),l=fn(),{id:a=l||`headlessui-combobox-input-${s}`,onChange:u,displayValue:d,disabled:m=i.disabled||!1,autoFocus:h=!1,type:p="text",...f}=e,g=c.useRef(null),v=pe(g,n,Zo(),r.actions.setInputElement),[S,C]=W(r,x=>[x.comboboxState,x.isTyping]),b=Te(),w=I(()=>{r.actions.onChange(null),r.state.optionsElement&&(r.state.optionsElement.scrollTop=0),r.actions.goToOption({focus:N.Nothing})}),R=c.useMemo(()=>{var x;return typeof d=="function"&&i.value!==void 0?(x=d(i.value))!=null?x:"":typeof i.value=="string"?i.value:""},[i.value,d]);Ct(([x,B],[D,U])=>{if(r.state.isTyping)return;let F=g.current;F&&((U===y.Open&&B===y.Closed||x!==D)&&(F.value=x),requestAnimationFrame(()=>{if(r.state.isTyping||!F||Ft(F))return;let{selectionStart:Y,selectionEnd:M}=F;Math.abs((M??0)-(Y??0))===0&&Y===0&&F.setSelectionRange(F.value.length,F.value.length)}))},[R,S,C]),Ct(([x],[B])=>{if(x===y.Open&&B===y.Closed){if(r.state.isTyping)return;let D=g.current;if(!D)return;let U=D.value,{selectionStart:F,selectionEnd:Y,selectionDirection:M}=D;D.value="",D.value=U,M!==null?D.setSelectionRange(F,Y,M):D.setSelectionRange(F,Y)}},[S]);let E=c.useRef(!1),T=I(()=>{E.current=!0}),P=I(()=>{b.nextFrame(()=>{E.current=!1})}),L=I(x=>{switch(r.actions.setIsTyping(!0),x.key){case X.Enter:if(r.state.comboboxState!==y.Open||E.current)return;if(x.preventDefault(),x.stopPropagation(),r.selectors.activeOptionIndex(r.state)===null){r.actions.closeCombobox();return}r.actions.selectActiveOption(),i.mode===J.Single&&r.actions.closeCombobox();break;case X.ArrowDown:return x.preventDefault(),x.stopPropagation(),fe(r.state.comboboxState,{[y.Open]:()=>r.actions.goToOption({focus:N.Next}),[y.Closed]:()=>r.actions.openCombobox()});case X.ArrowUp:return x.preventDefault(),x.stopPropagation(),fe(r.state.comboboxState,{[y.Open]:()=>r.actions.goToOption({focus:N.Previous}),[y.Closed]:()=>{Z.flushSync(()=>r.actions.openCombobox()),i.value||r.actions.goToOption({focus:N.Last})}});case X.Home:if(r.state.comboboxState===y.Closed||x.shiftKey)break;return x.preventDefault(),x.stopPropagation(),r.actions.goToOption({focus:N.First});case X.PageUp:return x.preventDefault(),x.stopPropagation(),r.actions.goToOption({focus:N.First});case X.End:if(r.state.comboboxState===y.Closed||x.shiftKey)break;return x.preventDefault(),x.stopPropagation(),r.actions.goToOption({focus:N.Last});case X.PageDown:return x.preventDefault(),x.stopPropagation(),r.actions.goToOption({focus:N.Last});case X.Escape:return r.state.comboboxState!==y.Open?void 0:(x.preventDefault(),r.state.optionsElement&&!i.optionsPropsRef.current.static&&x.stopPropagation(),i.mode===J.Single&&i.value===null&&w(),r.actions.closeCombobox());case X.Tab:if(r.actions.setIsTyping(!1),r.state.comboboxState!==y.Open)return;i.mode===J.Single&&r.state.activationTrigger!==ne.Focus&&r.actions.selectActiveOption(),r.actions.closeCombobox();break}}),q=I(x=>{u?.(x),i.mode===J.Single&&x.target.value===""&&w(),r.actions.openCombobox()}),k=I(x=>{var B,D,U;let F=(B=x.relatedTarget)!=null?B:ue.find(Y=>Y!==x.currentTarget);if(!((D=r.state.optionsElement)!=null&&D.contains(F))&&!((U=r.state.buttonElement)!=null&&U.contains(F))&&r.state.comboboxState===y.Open)return x.preventDefault(),i.mode===J.Single&&i.value===null&&w(),r.actions.closeCombobox()}),O=I(x=>{var B,D,U;let F=(B=x.relatedTarget)!=null?B:ue.find(Y=>Y!==x.currentTarget);(D=r.state.buttonElement)!=null&&D.contains(F)||(U=r.state.optionsElement)!=null&&U.contains(F)||i.disabled||i.immediate&&r.state.comboboxState!==y.Open&&b.microTask(()=>{Z.flushSync(()=>r.actions.openCombobox()),r.actions.setActivationTrigger(ne.Focus)})}),_=Ke(),z=pn(),{isFocused:$,focusProps:H}=At({autoFocus:h}),{isHovered:re,hoverProps:ee}=Dt({isDisabled:m}),K=W(r,x=>x.optionsElement),G=Oe({open:S===y.Open,disabled:m,invalid:i.invalid,hover:re,focus:$,autofocus:h}),ie=Ge({ref:v,id:a,role:"combobox",type:p,"aria-controls":K?.id,"aria-expanded":S===y.Open,"aria-activedescendant":W(r,r.selectors.activeDescendantId),"aria-labelledby":_,"aria-describedby":z,"aria-autocomplete":"list",defaultValue:(o=(t=e.defaultValue)!=null?t:i.defaultValue!==void 0?d?.(i.defaultValue):null)!=null?o:i.defaultValue,disabled:m||void 0,autoFocus:h,onCompositionStart:T,onCompositionEnd:P,onKeyDown:L,onChange:q,onFocus:O,onBlur:k},H,ee);return le()({ourProps:ie,theirProps:f,slot:G,defaultTag:Mr,name:"Combobox.Input"})}let Pr="button";function kr(e,n){let t=$e("Combobox.Button"),o=ve("Combobox.Button"),[r,i]=c.useState(null),s=pe(n,i,t.actions.setButtonElement),l=c.useId(),{id:a=`headlessui-combobox-button-${l}`,disabled:u=o.disabled||!1,autoFocus:d=!1,...m}=e,[h,p,f]=W(t,O=>[O.comboboxState,O.inputElement,O.optionsElement]),g=qt(p),v=h===y.Open;ho(v,{trigger:r,action:c.useCallback(O=>{if(r!=null&&r.contains(O.target)||p!=null&&p.contains(O.target))return be.Ignore;let _=O.target.closest('[role="option"]:not([data-disabled])');return Ye(_)?be.Select(_):f!=null&&f.contains(O.target)?be.Ignore:be.Close},[r,p,f]),close:t.actions.closeCombobox,select:t.actions.selectActiveOption});let S=I(O=>{switch(O.key){case X.Space:case X.Enter:O.preventDefault(),O.stopPropagation(),t.state.comboboxState===y.Closed&&Z.flushSync(()=>t.actions.openCombobox()),g();return;case X.ArrowDown:O.preventDefault(),O.stopPropagation(),t.state.comboboxState===y.Closed&&(Z.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:N.First})),g();return;case X.ArrowUp:O.preventDefault(),O.stopPropagation(),t.state.comboboxState===y.Closed&&(Z.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:N.Last})),g();return;case X.Escape:if(t.state.comboboxState!==y.Open)return;O.preventDefault(),t.state.optionsElement&&!o.optionsPropsRef.current.static&&O.stopPropagation(),Z.flushSync(()=>t.actions.closeCombobox()),g();return;default:return}}),C=Kn(()=>{t.state.comboboxState===y.Open?t.actions.closeCombobox():t.actions.openCombobox(),g()}),b=Ke([a]),{isFocusVisible:w,focusProps:R}=At({autoFocus:d}),{isHovered:E,hoverProps:T}=Dt({isDisabled:u}),{pressed:P,pressProps:L}=Sn({disabled:u}),q=Oe({open:h===y.Open,active:P||h===y.Open,disabled:u,invalid:o.invalid,value:o.value,hover:E,focus:w}),k=Ge({ref:s,id:a,type:yn(e,r),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":f?.id,"aria-expanded":h===y.Open,"aria-labelledby":b,disabled:u||void 0,autoFocus:d,onKeyDown:S},C,R,T,L);return le()({ourProps:k,theirProps:m,slot:q,defaultTag:Pr,name:"Combobox.Button"})}let Fr="div",Ar=nt.RenderStrategy|nt.Static;function Dr(e,n){var t,o,r;let i=c.useId(),{id:s=`headlessui-combobox-options-${i}`,hold:l=!1,anchor:a,portal:u=!1,modal:d=!0,transition:m=!1,...h}=e,p=$e("Combobox.Options"),f=ve("Combobox.Options"),g=Qo(a);g&&(u=!0);let[v,S]=tr(g),[C,b]=c.useState(null),w=er(),R=pe(n,g?v:null,p.actions.setOptionsElement,b),[E,T,P,L,q]=W(p,j=>[j.comboboxState,j.inputElement,j.buttonElement,j.optionsElement,j.activationTrigger]),k=He(T||P),O=He(L),_=lr(),[z,$]=Io(m,C,_!==null?(_&Ce.Open)===Ce.Open:E===y.Open);lo(z,T,p.actions.closeCombobox);let H=f.__demoMode?!1:d&&E===y.Open;yo(H,O);let re=f.__demoMode?!1:d&&E===y.Open;so(re,{allowed:c.useCallback(()=>[T,P,L],[T,P,L])});let ee=W(p,p.selectors.didInputMove)?!1:z;V(()=>{var j;f.optionsPropsRef.current.static=(j=e.static)!=null?j:!1},[f.optionsPropsRef,e.static]),V(()=>{f.optionsPropsRef.current.hold=l},[f.optionsPropsRef,l]),Fo(E===y.Open,{container:L,accept(j){return j.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:j.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(j){j.setAttribute("role","none")}});let K=Ke([P?.id]),G=Oe({open:E===y.Open,option:void 0}),ie=I(()=>{p.actions.setActivationTrigger(ne.Pointer)}),x=I(j=>{j.preventDefault(),p.actions.setActivationTrigger(ne.Pointer)}),B=Ge(g?w():{},{"aria-labelledby":K,role:"listbox","aria-multiselectable":f.mode===J.Multi?!0:void 0,id:s,ref:R,style:{...h.style,...S,"--input-width":ut(z,T,!0).width,"--button-width":ut(z,P,!0).width},onWheel:q===ne.Pointer?void 0:ie,onMouseDown:x,...$o($)}),D=z&&E===y.Closed&&!e.static,U=Ue(D,(t=f.virtual)==null?void 0:t.options),F=Ue(D,f.value),Y=c.useCallback(j=>f.compare(F,j),[f.compare,F]),M=c.useMemo(()=>{if(!f.virtual)return f;if(U===void 0)throw new Error("Missing `options` in virtual mode");return U!==f.virtual.options?{...f,virtual:{...f.virtual,options:U}}:f},[f,U,(o=f.virtual)==null?void 0:o.options]);f.virtual&&Object.assign(h,{children:A.createElement(we.Provider,{value:M},A.createElement(Rr,{slot:G},h.children))});let ae=le(),rn=c.useMemo(()=>f.mode===J.Multi?f:{...f,isSelected:Y},[f,Y]);return A.createElement(Sr,{enabled:u?e.static||z:!1,ownerDocument:k},A.createElement(we.Provider,{value:rn},ae({ourProps:B,theirProps:{...h,children:A.createElement(sr,{freeze:D},typeof h.children=="function"?(r=h.children)==null?void 0:r.call(h,G):h.children)},slot:G,defaultTag:Fr,features:Ar,visible:ee,name:"Combobox.Options"})))}let zr="div";function _r(e,n){var t,o,r;let i=ve("Combobox.Option"),s=$e("Combobox.Option"),l=c.useId(),{id:a=`headlessui-combobox-option-${l}`,value:u,disabled:d=(r=(o=(t=i.virtual)==null?void 0:t.disabled)==null?void 0:o.call(t,u))!=null?r:!1,order:m=null,...h}=e,[p]=W(s,$=>[$.inputElement]),f=qt(p),g=W(s,c.useCallback($=>s.selectors.isActive($,u,a),[u,a])),v=i.isSelected(u),S=c.useRef(null),C=ge({disabled:d,value:u,domRef:S,order:m}),b=c.useContext(on),w=pe(n,S,b?b.measureElement:null),R=I(()=>{s.actions.setIsTyping(!1),s.actions.onChange(u)});V(()=>s.actions.registerOption(a,C),[C,a]);let E=W(s,c.useCallback($=>s.selectors.shouldScrollIntoView($,u,a),[u,a]));V(()=>{if(E)return oe().requestAnimationFrame(()=>{var $,H;(H=($=S.current)==null?void 0:$.scrollIntoView)==null||H.call($,{block:"nearest"})})},[E,S]);let T=I($=>{$.preventDefault(),$.button===Xe.Left&&(d||(R(),Ve()||requestAnimationFrame(()=>f()),i.mode===J.Single&&s.actions.closeCombobox()))}),P=I(()=>{if(d)return s.actions.goToOption({focus:N.Nothing});let $=i.calculateIndex(u);s.actions.goToOption({focus:N.Specific,idx:$})}),L=Co(),q=I($=>L.update($)),k=I($=>{if(!L.wasMoved($)||d||g&&s.state.activationTrigger===ne.Pointer)return;let H=i.calculateIndex(u);s.actions.goToOption({focus:N.Specific,idx:H},ne.Pointer)}),O=I($=>{L.wasMoved($)&&(d||g&&(i.optionsPropsRef.current.hold||s.state.activationTrigger===ne.Pointer&&s.actions.goToOption({focus:N.Nothing})))}),_=Oe({active:g,focus:g,selected:v,disabled:d}),z={id:a,ref:w,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:T,onFocus:P,onPointerEnter:q,onMouseEnter:q,onPointerMove:k,onMouseMove:k,onPointerLeave:O,onMouseLeave:O};return le()({ourProps:z,theirProps:h,slot:_,defaultTag:zr,name:"Combobox.Option"})}let Lr=se(Ir),Nr=se(kr),Wr=se(Tr),jr=dn,Vr=se(Dr),Hr=se(_r),Qr=Object.assign(Lr,{Input:Wr,Button:Nr,Label:jr,Options:Vr,Option:Hr});export{Nr as B,Qr as H,Vr as U,Hr as a,Wr as k};
